import { Component, Input, QueryList } from "@angular/core";
import { faCaretDown, faCaretLeft, faCaretRight, faCaretUp, faEllipsisH, faEllipsisV } from "@fortawesome/free-solid-svg-icons";
import { fromEvent } from "rxjs";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@fortawesome/angular-fontawesome";
export class SplitterResizerComponent {
    constructor(elementRef) {
        this.elementRef = elementRef;
        this.horizontalCollapseNextIcon = faCaretRight;
        this.horizontalCollapsePreviousIcon = faCaretLeft;
        this.horizontalResizeIcon = faEllipsisV;
        this.verticalCollapseNextIcon = faCaretDown;
        this.verticalCollapsePreviousIcon = faCaretUp;
        this.verticalResizeIcon = faEllipsisH;
        this.resizing = false;
        this.nextResizer = null;
        this.orientation = "horizontal";
        this.panes = new QueryList();
        this.previousResizer = null;
    }
    ngOnChanges(changes) {
        if (changes && (changes["panes"] || changes["pane"])) {
            const index = this.panes.toArray().indexOf(this.previousPane);
            if (index !== -1) {
                this.nextPane = this.panes.toArray()[index + 1];
            }
        }
    }
    ngOnInit() {
        this.setSubscriptions();
    }
    toggle(position) {
        if (this.previousPane.collapsed && this.nextPane?.collapsed) {
            return;
        }
        if (position === "previous") {
            if (!this.previousPane.collapsed) {
                if (!this.nextPane.collapsed) {
                    this.previousPane.setCollapsed(true);
                    if (!this.previousPane.isStatic && this.nextPane.isStatic) {
                        this.nextPane.isStatic = false;
                    }
                }
                else {
                    this.nextPane.setCollapsed(false);
                    if (this.previousPane.uid === this.panes.first.uid && this.previousPane.paneSize != null) {
                        this.previousPane.isStatic = true;
                    }
                }
            }
            else if (this.nextPane.collapsed) {
                this.nextPane.setCollapsed(false);
            }
        }
        else {
            if (!this.nextPane?.collapsed) {
                if (!this.previousPane.collapsed) {
                    this.nextPane.setCollapsed(true);
                    if (!this.nextPane.isStatic && this.previousPane.isStatic) {
                        this.previousPane.isStatic = false;
                    }
                }
                else {
                    this.previousPane.setCollapsed(false);
                    if (this.nextPane.uid === this.panes.last.uid && this.nextPane.paneSize != null) {
                        this.nextPane.isStatic = true;
                    }
                }
            }
            else if (this.previousPane.collapsed) {
                this.previousPane.setCollapsed(false);
            }
        }
    }
    getPaneElements() {
        return [
            document.querySelector(`[data-pid='${this.previousPane.uid}']`),
            document.querySelector(`[data-pid='${this.nextPane?.uid}']`)
        ];
    }
    resize(event) {
        const [previousPaneElement, nextPaneElement] = this.getPaneElements();
        const rect = previousPaneElement.getBoundingClientRect();
        if (this.orientation === "horizontal") {
            const totalSize = rect.width + nextPaneElement.getBoundingClientRect().width;
            const size = event.clientX - rect.left < 0
                ? 0
                : event.clientX - rect.left > totalSize
                    ? totalSize
                    : event.clientX - rect.left;
            this.previousPane.setSize(`${size}px`);
            this.nextPane.setSize(`${totalSize - size}px`);
        }
        else {
            const totalSize = rect.height + nextPaneElement.getBoundingClientRect().height;
            const size = event.clientY - rect.top < 0
                ? 0
                : event.clientY - rect.top > totalSize
                    ? totalSize
                    : event.clientY - rect.top;
            this.previousPane.setSize(`${size}px`);
            this.nextPane.setSize(`${totalSize - size}px`);
        }
    }
    setSubscriptions() {
        fromEvent(this.elementRef.nativeElement, "mousedown").subscribe(event => {
            this.resizing = true;
            const mouseMoveSubscription = fromEvent(document, "mousemove").subscribe(event => {
                if (!this.previousPane.resizable || !this.nextPane.resizable) {
                    return;
                }
                if (!this.previousPane.collapsed && !this.nextPane.collapsed) {
                    this.resize(event);
                }
            });
            const mouseUpSubscription = fromEvent(document, "mouseup").subscribe(event => {
                mouseMoveSubscription.unsubscribe();
                mouseUpSubscription.unsubscribe();
                this.resizing = false;
            });
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SplitterResizerComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.0", type: SplitterResizerComponent, selector: "mona-splitter-resizer", inputs: { nextResizer: "nextResizer", orientation: "orientation", previousPane: "previousPane", panes: "panes", previousResizer: "previousResizer" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"mona-splitter-resizer\" [ngClass]=\"orientation\">\n    <div class=\"mona-splitter-collapse\" [attr.data-pos]=\"'prev'\" (click)=\"toggle('previous')\" *ngIf=\"(previousPane.collapsible || nextPane.collapsed) && (previousPane.resizable && nextPane.resizable)\">\n        <fa-icon [icon]=\"horizontalCollapsePreviousIcon\" *ngIf=\"orientation==='horizontal' && !previousPane.collapsed\"></fa-icon>\n        <fa-icon [icon]=\"verticalCollapsePreviousIcon\" *ngIf=\"orientation==='vertical' && !previousPane.collapsed\"></fa-icon>\n    </div>\n    <ng-container *ngIf=\"previousPane.resizable && nextPane.resizable\">\n        <fa-icon [icon]=\"horizontalResizeIcon\" *ngIf=\"orientation==='horizontal' && !(previousPane.collapsed || nextPane.collapsed)\"></fa-icon>\n        <fa-icon [icon]=\"verticalResizeIcon\" *ngIf=\"orientation==='vertical' && !(previousPane.collapsed || nextPane.collapsed)\"></fa-icon>\n    </ng-container>\n    <div class=\"mona-splitter-collapse\" [attr.data-pos]=\"'next'\" (click)=\"toggle('next')\" *ngIf=\"(nextPane.collapsible || previousPane.collapsed) && (previousPane.resizable && nextPane.resizable)\">\n        <fa-icon [icon]=\"horizontalCollapseNextIcon\" *ngIf=\"orientation==='horizontal' && !nextPane?.collapsed\"></fa-icon>\n        <fa-icon [icon]=\"verticalCollapseNextIcon\" *ngIf=\"orientation==='vertical' && !nextPane?.collapsed\"></fa-icon>\n    </div>\n</div>\n", styles: ["div.mona-splitter-resizer{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;color:var(--mona-text)}div.mona-splitter-resizer fa-icon{opacity:.6}div.mona-splitter-resizer>fa-icon{margin:5px}div.mona-splitter-resizer.vertical{width:100%;height:5px;cursor:row-resize;border-top:1px solid var(--mona-border-color);border-bottom:1px solid var(--mona-border-color);background:var(--mona-background)}div.mona-splitter-resizer.vertical div.mona-splitter-collapse[data-pos=prev]{margin-top:1px}div.mona-splitter-resizer.vertical div.mona-splitter-collapse[data-pos=next]{margin-bottom:1px}div.mona-splitter-resizer.horizontal{width:5px;height:100%;cursor:col-resize;border-left:1px solid var(--mona-border-color);border-right:1px solid var(--mona-border-color);background:var(--mona-background);flex-direction:column}div.mona-splitter-resizer.horizontal div.mona-splitter-collapse[data-pos=prev]{margin-left:1px}div.mona-splitter-resizer.horizontal div.mona-splitter-collapse[data-pos=next]{margin-right:1px}div.mona-splitter-collapse{cursor:pointer;display:flex;align-items:center;justify-content:center}div.mona-splitter-collapse fa-icon{font-size:8px}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.FaIconComponent, selector: "fa-icon", inputs: ["icon", "title", "spin", "pulse", "mask", "styles", "flip", "size", "pull", "border", "inverse", "symbol", "rotate", "fixedWidth", "classes", "transform", "a11yRole"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SplitterResizerComponent, decorators: [{
            type: Component,
            args: [{ selector: "mona-splitter-resizer", template: "<div class=\"mona-splitter-resizer\" [ngClass]=\"orientation\">\n    <div class=\"mona-splitter-collapse\" [attr.data-pos]=\"'prev'\" (click)=\"toggle('previous')\" *ngIf=\"(previousPane.collapsible || nextPane.collapsed) && (previousPane.resizable && nextPane.resizable)\">\n        <fa-icon [icon]=\"horizontalCollapsePreviousIcon\" *ngIf=\"orientation==='horizontal' && !previousPane.collapsed\"></fa-icon>\n        <fa-icon [icon]=\"verticalCollapsePreviousIcon\" *ngIf=\"orientation==='vertical' && !previousPane.collapsed\"></fa-icon>\n    </div>\n    <ng-container *ngIf=\"previousPane.resizable && nextPane.resizable\">\n        <fa-icon [icon]=\"horizontalResizeIcon\" *ngIf=\"orientation==='horizontal' && !(previousPane.collapsed || nextPane.collapsed)\"></fa-icon>\n        <fa-icon [icon]=\"verticalResizeIcon\" *ngIf=\"orientation==='vertical' && !(previousPane.collapsed || nextPane.collapsed)\"></fa-icon>\n    </ng-container>\n    <div class=\"mona-splitter-collapse\" [attr.data-pos]=\"'next'\" (click)=\"toggle('next')\" *ngIf=\"(nextPane.collapsible || previousPane.collapsed) && (previousPane.resizable && nextPane.resizable)\">\n        <fa-icon [icon]=\"horizontalCollapseNextIcon\" *ngIf=\"orientation==='horizontal' && !nextPane?.collapsed\"></fa-icon>\n        <fa-icon [icon]=\"verticalCollapseNextIcon\" *ngIf=\"orientation==='vertical' && !nextPane?.collapsed\"></fa-icon>\n    </div>\n</div>\n", styles: ["div.mona-splitter-resizer{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;color:var(--mona-text)}div.mona-splitter-resizer fa-icon{opacity:.6}div.mona-splitter-resizer>fa-icon{margin:5px}div.mona-splitter-resizer.vertical{width:100%;height:5px;cursor:row-resize;border-top:1px solid var(--mona-border-color);border-bottom:1px solid var(--mona-border-color);background:var(--mona-background)}div.mona-splitter-resizer.vertical div.mona-splitter-collapse[data-pos=prev]{margin-top:1px}div.mona-splitter-resizer.vertical div.mona-splitter-collapse[data-pos=next]{margin-bottom:1px}div.mona-splitter-resizer.horizontal{width:5px;height:100%;cursor:col-resize;border-left:1px solid var(--mona-border-color);border-right:1px solid var(--mona-border-color);background:var(--mona-background);flex-direction:column}div.mona-splitter-resizer.horizontal div.mona-splitter-collapse[data-pos=prev]{margin-left:1px}div.mona-splitter-resizer.horizontal div.mona-splitter-collapse[data-pos=next]{margin-right:1px}div.mona-splitter-collapse{cursor:pointer;display:flex;align-items:center;justify-content:center}div.mona-splitter-collapse fa-icon{font-size:8px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { nextResizer: [{
                type: Input
            }], orientation: [{
                type: Input
            }], previousPane: [{
                type: Input
            }], panes: [{
                type: Input
            }], previousResizer: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXR0ZXItcmVzaXplci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tb25hLXVpL3NyYy9saWIvbGF5b3V0L21vZHVsZXMvc3BsaXR0ZXIvY29tcG9uZW50cy9zcGxpdHRlci1yZXNpemVyL3NwbGl0dGVyLXJlc2l6ZXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9uYS11aS9zcmMvbGliL2xheW91dC9tb2R1bGVzL3NwbGl0dGVyL2NvbXBvbmVudHMvc3BsaXR0ZXItcmVzaXplci9zcGxpdHRlci1yZXNpemVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQWMsS0FBSyxFQUFxQixTQUFTLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBRzFHLE9BQU8sRUFDSCxXQUFXLEVBQ1gsV0FBVyxFQUNYLFlBQVksRUFDWixTQUFTLEVBQ1QsV0FBVyxFQUNYLFdBQVcsRUFFZCxNQUFNLG1DQUFtQyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxNQUFNLENBQUM7Ozs7QUFPakMsTUFBTSxPQUFPLHdCQUF3QjtJQTBCakMsWUFBb0MsVUFBbUM7UUFBbkMsZUFBVSxHQUFWLFVBQVUsQ0FBeUI7UUF6QnZELCtCQUEwQixHQUFtQixZQUFZLENBQUM7UUFDMUQsbUNBQThCLEdBQW1CLFdBQVcsQ0FBQztRQUM3RCx5QkFBb0IsR0FBbUIsV0FBVyxDQUFDO1FBQ25ELDZCQUF3QixHQUFtQixXQUFXLENBQUM7UUFDdkQsaUNBQTRCLEdBQW1CLFNBQVMsQ0FBQztRQUN6RCx1QkFBa0IsR0FBbUIsV0FBVyxDQUFDO1FBQzFELGFBQVEsR0FBWSxLQUFLLENBQUM7UUFLMUIsZ0JBQVcsR0FBb0MsSUFBSSxDQUFDO1FBR3BELGdCQUFXLEdBQWdCLFlBQVksQ0FBQztRQU14QyxVQUFLLEdBQXFDLElBQUksU0FBUyxFQUF5QixDQUFDO1FBR2pGLG9CQUFlLEdBQW9DLElBQUksQ0FBQztJQUVXLENBQUM7SUFFcEUsV0FBVyxDQUFDLE9BQXNCO1FBQ3JDLElBQUksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFO1lBQ2xELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM5RCxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDZCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ25EO1NBQ0o7SUFDTCxDQUFDO0lBRU0sUUFBUTtRQUNYLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFTSxNQUFNLENBQUMsUUFBNkI7UUFDdkMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRTtZQUN6RCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLFFBQVEsS0FBSyxVQUFVLEVBQUU7WUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFO2dCQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7b0JBQzFCLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7d0JBQ3ZELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztxQkFDbEM7aUJBQ0o7cUJBQU07b0JBQ0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ2xDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxJQUFJLElBQUksRUFBRTt3QkFDdEYsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO3FCQUNyQztpQkFDSjthQUNKO2lCQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7Z0JBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3JDO1NBQ0o7YUFBTTtZQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFO29CQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFO3dCQUN2RCxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7cUJBQ3RDO2lCQUNKO3FCQUFNO29CQUNILElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN0QyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsSUFBSSxJQUFJLEVBQUU7d0JBQzdFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztxQkFDakM7aUJBQ0o7YUFDSjtpQkFBTSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFO2dCQUNwQyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN6QztTQUNKO0lBQ0wsQ0FBQztJQUVPLGVBQWU7UUFDbkIsT0FBTztZQUNILFFBQVEsQ0FBQyxhQUFhLENBQUMsY0FBYyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFnQjtZQUM5RSxRQUFRLENBQUMsYUFBYSxDQUFDLGNBQWMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBZ0I7U0FDOUUsQ0FBQztJQUNOLENBQUM7SUFFTyxNQUFNLENBQUMsS0FBaUI7UUFDNUIsTUFBTSxDQUFDLG1CQUFtQixFQUFFLGVBQWUsQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN0RSxNQUFNLElBQUksR0FBRyxtQkFBbUIsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3pELElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyxZQUFZLEVBQUU7WUFDbkMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxlQUFlLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxLQUFLLENBQUM7WUFDN0UsTUFBTSxJQUFJLEdBQ04sS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUM7Z0JBQ3pCLENBQUMsQ0FBQyxDQUFDO2dCQUNILENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUztvQkFDdkMsQ0FBQyxDQUFDLFNBQVM7b0JBQ1gsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNwQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQztTQUNsRDthQUFNO1lBQ0gsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxNQUFNLENBQUM7WUFDL0UsTUFBTSxJQUFJLEdBQ04sS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQ3hCLENBQUMsQ0FBQyxDQUFDO2dCQUNILENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQUcsU0FBUztvQkFDdEMsQ0FBQyxDQUFDLFNBQVM7b0JBQ1gsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztZQUNuQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQztTQUNsRDtJQUNMLENBQUM7SUFFTyxnQkFBZ0I7UUFDcEIsU0FBUyxDQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNoRixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixNQUFNLHFCQUFxQixHQUFHLFNBQVMsQ0FBYSxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUN6RixJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRTtvQkFDMUQsT0FBTztpQkFDVjtnQkFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRTtvQkFDMUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDdEI7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sbUJBQW1CLEdBQUcsU0FBUyxDQUFhLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ3JGLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNwQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7OEdBbElRLHdCQUF3QjtrR0FBeEIsd0JBQXdCLHdPQ25CckMsaTVDQWNBOzsyRkRLYSx3QkFBd0I7a0JBTHBDLFNBQVM7K0JBQ0ksdUJBQXVCO2lHQWdCMUIsV0FBVztzQkFEakIsS0FBSztnQkFJQyxXQUFXO3NCQURqQixLQUFLO2dCQUlDLFlBQVk7c0JBRGxCLEtBQUs7Z0JBSUMsS0FBSztzQkFEWCxLQUFLO2dCQUlDLGVBQWU7c0JBRHJCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkNoYW5nZXMsIE9uSW5pdCwgUXVlcnlMaXN0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IFNwbGl0dGVyUGFuZUNvbXBvbmVudCB9IGZyb20gXCIuLi9zcGxpdHRlci1wYW5lL3NwbGl0dGVyLXBhbmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9kYXRhL09yaWVudGF0aW9uXCI7XG5pbXBvcnQge1xuICAgIGZhQ2FyZXREb3duLFxuICAgIGZhQ2FyZXRMZWZ0LFxuICAgIGZhQ2FyZXRSaWdodCxcbiAgICBmYUNhcmV0VXAsXG4gICAgZmFFbGxpcHNpc0gsXG4gICAgZmFFbGxpcHNpc1YsXG4gICAgSWNvbkRlZmluaXRpb25cbn0gZnJvbSBcIkBmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29uc1wiO1xuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSBcInJ4anNcIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6IFwibW9uYS1zcGxpdHRlci1yZXNpemVyXCIsXG4gICAgdGVtcGxhdGVVcmw6IFwiLi9zcGxpdHRlci1yZXNpemVyLmNvbXBvbmVudC5odG1sXCIsXG4gICAgc3R5bGVVcmxzOiBbXCIuL3NwbGl0dGVyLXJlc2l6ZXIuY29tcG9uZW50LnNjc3NcIl1cbn0pXG5leHBvcnQgY2xhc3MgU3BsaXR0ZXJSZXNpemVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xuICAgIHB1YmxpYyByZWFkb25seSBob3Jpem9udGFsQ29sbGFwc2VOZXh0SWNvbjogSWNvbkRlZmluaXRpb24gPSBmYUNhcmV0UmlnaHQ7XG4gICAgcHVibGljIHJlYWRvbmx5IGhvcml6b250YWxDb2xsYXBzZVByZXZpb3VzSWNvbjogSWNvbkRlZmluaXRpb24gPSBmYUNhcmV0TGVmdDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaG9yaXpvbnRhbFJlc2l6ZUljb246IEljb25EZWZpbml0aW9uID0gZmFFbGxpcHNpc1Y7XG4gICAgcHVibGljIHJlYWRvbmx5IHZlcnRpY2FsQ29sbGFwc2VOZXh0SWNvbjogSWNvbkRlZmluaXRpb24gPSBmYUNhcmV0RG93bjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmVydGljYWxDb2xsYXBzZVByZXZpb3VzSWNvbjogSWNvbkRlZmluaXRpb24gPSBmYUNhcmV0VXA7XG4gICAgcHVibGljIHJlYWRvbmx5IHZlcnRpY2FsUmVzaXplSWNvbjogSWNvbkRlZmluaXRpb24gPSBmYUVsbGlwc2lzSDtcbiAgICBwdWJsaWMgcmVzaXppbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBuZXh0UGFuZSE6IFNwbGl0dGVyUGFuZUNvbXBvbmVudDtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIG5leHRSZXNpemVyOiBTcGxpdHRlclJlc2l6ZXJDb21wb25lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIEBJbnB1dCgpXG4gICAgcHVibGljIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbiA9IFwiaG9yaXpvbnRhbFwiO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgcHJldmlvdXNQYW5lITogU3BsaXR0ZXJQYW5lQ29tcG9uZW50O1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgcGFuZXM6IFF1ZXJ5TGlzdDxTcGxpdHRlclBhbmVDb21wb25lbnQ+ID0gbmV3IFF1ZXJ5TGlzdDxTcGxpdHRlclBhbmVDb21wb25lbnQ+KCk7XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBwcmV2aW91c1Jlc2l6ZXI6IFNwbGl0dGVyUmVzaXplckNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4pIHt9XG5cbiAgICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgICAgICBpZiAoY2hhbmdlcyAmJiAoY2hhbmdlc1tcInBhbmVzXCJdIHx8IGNoYW5nZXNbXCJwYW5lXCJdKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBhbmVzLnRvQXJyYXkoKS5pbmRleE9mKHRoaXMucHJldmlvdXNQYW5lKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYW5lID0gdGhpcy5wYW5lcy50b0FycmF5KClbaW5kZXggKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb25zKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvZ2dsZShwb3NpdGlvbjogXCJwcmV2aW91c1wiIHwgXCJuZXh0XCIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNQYW5lLmNvbGxhcHNlZCAmJiB0aGlzLm5leHRQYW5lPy5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24gPT09IFwicHJldmlvdXNcIikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzUGFuZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubmV4dFBhbmUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYW5lLnNldENvbGxhcHNlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzUGFuZS5pc1N0YXRpYyAmJiB0aGlzLm5leHRQYW5lLmlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYW5lLmlzU3RhdGljID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYW5lLnNldENvbGxhcHNlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzUGFuZS51aWQgPT09IHRoaXMucGFuZXMuZmlyc3QudWlkICYmIHRoaXMucHJldmlvdXNQYW5lLnBhbmVTaXplICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYW5lLmlzU3RhdGljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXh0UGFuZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYW5lLnNldENvbGxhcHNlZChmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubmV4dFBhbmU/LmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmV2aW91c1BhbmUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhbmUuc2V0Q29sbGFwc2VkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubmV4dFBhbmUuaXNTdGF0aWMgJiYgdGhpcy5wcmV2aW91c1BhbmUuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYW5lLmlzU3RhdGljID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzUGFuZS5zZXRDb2xsYXBzZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXh0UGFuZS51aWQgPT09IHRoaXMucGFuZXMubGFzdC51aWQgJiYgdGhpcy5uZXh0UGFuZS5wYW5lU2l6ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYW5lLmlzU3RhdGljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2aW91c1BhbmUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1BhbmUuc2V0Q29sbGFwc2VkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UGFuZUVsZW1lbnRzKCk6IEhUTUxFbGVtZW50W10ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGlkPScke3RoaXMucHJldmlvdXNQYW5lLnVpZH0nXWApIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGlkPScke3RoaXMubmV4dFBhbmU/LnVpZH0nXWApIGFzIEhUTUxFbGVtZW50XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgW3ByZXZpb3VzUGFuZUVsZW1lbnQsIG5leHRQYW5lRWxlbWVudF0gPSB0aGlzLmdldFBhbmVFbGVtZW50cygpO1xuICAgICAgICBjb25zdCByZWN0ID0gcHJldmlvdXNQYW5lRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFNpemUgPSByZWN0LndpZHRoICsgbmV4dFBhbmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9XG4gICAgICAgICAgICAgICAgZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCA8IDBcbiAgICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICAgIDogZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCA+IHRvdGFsU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IHRvdGFsU2l6ZVxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzUGFuZS5zZXRTaXplKGAke3NpemV9cHhgKTtcbiAgICAgICAgICAgIHRoaXMubmV4dFBhbmUuc2V0U2l6ZShgJHt0b3RhbFNpemUgLSBzaXplfXB4YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFNpemUgPSByZWN0LmhlaWdodCArIG5leHRQYW5lRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBzaXplID1cbiAgICAgICAgICAgICAgICBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgPCAwXG4gICAgICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCA+IHRvdGFsU2l6ZVxuICAgICAgICAgICAgICAgICAgICA/IHRvdGFsU2l6ZVxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYW5lLnNldFNpemUoYCR7c2l6ZX1weGApO1xuICAgICAgICAgICAgdGhpcy5uZXh0UGFuZS5zZXRTaXplKGAke3RvdGFsU2l6ZSAtIHNpemV9cHhgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U3Vic2NyaXB0aW9ucygpOiB2b2lkIHtcbiAgICAgICAgZnJvbUV2ZW50PE1vdXNlRXZlbnQ+KHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCBcIm1vdXNlZG93blwiKS5zdWJzY3JpYmUoZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNpemluZyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBtb3VzZU1vdmVTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQ8TW91c2VFdmVudD4oZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIpLnN1YnNjcmliZShldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzUGFuZS5yZXNpemFibGUgfHwgIXRoaXMubmV4dFBhbmUucmVzaXphYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzUGFuZS5jb2xsYXBzZWQgJiYgIXRoaXMubmV4dFBhbmUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1vdXNlVXBTdWJzY3JpcHRpb24gPSBmcm9tRXZlbnQ8TW91c2VFdmVudD4oZG9jdW1lbnQsIFwibW91c2V1cFwiKS5zdWJzY3JpYmUoZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIG1vdXNlTW92ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIG1vdXNlVXBTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiPGRpdiBjbGFzcz1cIm1vbmEtc3BsaXR0ZXItcmVzaXplclwiIFtuZ0NsYXNzXT1cIm9yaWVudGF0aW9uXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtc3BsaXR0ZXItY29sbGFwc2VcIiBbYXR0ci5kYXRhLXBvc109XCIncHJldidcIiAoY2xpY2spPVwidG9nZ2xlKCdwcmV2aW91cycpXCIgKm5nSWY9XCIocHJldmlvdXNQYW5lLmNvbGxhcHNpYmxlIHx8IG5leHRQYW5lLmNvbGxhcHNlZCkgJiYgKHByZXZpb3VzUGFuZS5yZXNpemFibGUgJiYgbmV4dFBhbmUucmVzaXphYmxlKVwiPlxuICAgICAgICA8ZmEtaWNvbiBbaWNvbl09XCJob3Jpem9udGFsQ29sbGFwc2VQcmV2aW91c0ljb25cIiAqbmdJZj1cIm9yaWVudGF0aW9uPT09J2hvcml6b250YWwnICYmICFwcmV2aW91c1BhbmUuY29sbGFwc2VkXCI+PC9mYS1pY29uPlxuICAgICAgICA8ZmEtaWNvbiBbaWNvbl09XCJ2ZXJ0aWNhbENvbGxhcHNlUHJldmlvdXNJY29uXCIgKm5nSWY9XCJvcmllbnRhdGlvbj09PSd2ZXJ0aWNhbCcgJiYgIXByZXZpb3VzUGFuZS5jb2xsYXBzZWRcIj48L2ZhLWljb24+XG4gICAgPC9kaXY+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInByZXZpb3VzUGFuZS5yZXNpemFibGUgJiYgbmV4dFBhbmUucmVzaXphYmxlXCI+XG4gICAgICAgIDxmYS1pY29uIFtpY29uXT1cImhvcml6b250YWxSZXNpemVJY29uXCIgKm5nSWY9XCJvcmllbnRhdGlvbj09PSdob3Jpem9udGFsJyAmJiAhKHByZXZpb3VzUGFuZS5jb2xsYXBzZWQgfHwgbmV4dFBhbmUuY29sbGFwc2VkKVwiPjwvZmEtaWNvbj5cbiAgICAgICAgPGZhLWljb24gW2ljb25dPVwidmVydGljYWxSZXNpemVJY29uXCIgKm5nSWY9XCJvcmllbnRhdGlvbj09PSd2ZXJ0aWNhbCcgJiYgIShwcmV2aW91c1BhbmUuY29sbGFwc2VkIHx8IG5leHRQYW5lLmNvbGxhcHNlZClcIj48L2ZhLWljb24+XG4gICAgPC9uZy1jb250YWluZXI+XG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtc3BsaXR0ZXItY29sbGFwc2VcIiBbYXR0ci5kYXRhLXBvc109XCInbmV4dCdcIiAoY2xpY2spPVwidG9nZ2xlKCduZXh0JylcIiAqbmdJZj1cIihuZXh0UGFuZS5jb2xsYXBzaWJsZSB8fCBwcmV2aW91c1BhbmUuY29sbGFwc2VkKSAmJiAocHJldmlvdXNQYW5lLnJlc2l6YWJsZSAmJiBuZXh0UGFuZS5yZXNpemFibGUpXCI+XG4gICAgICAgIDxmYS1pY29uIFtpY29uXT1cImhvcml6b250YWxDb2xsYXBzZU5leHRJY29uXCIgKm5nSWY9XCJvcmllbnRhdGlvbj09PSdob3Jpem9udGFsJyAmJiAhbmV4dFBhbmU/LmNvbGxhcHNlZFwiPjwvZmEtaWNvbj5cbiAgICAgICAgPGZhLWljb24gW2ljb25dPVwidmVydGljYWxDb2xsYXBzZU5leHRJY29uXCIgKm5nSWY9XCJvcmllbnRhdGlvbj09PSd2ZXJ0aWNhbCcgJiYgIW5leHRQYW5lPy5jb2xsYXBzZWRcIj48L2ZhLWljb24+XG4gICAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==