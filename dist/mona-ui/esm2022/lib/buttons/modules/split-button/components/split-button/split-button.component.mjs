import { Component, ContentChild, ContentChildren, EventEmitter, Input, Output, QueryList, TemplateRef, ViewChild } from "@angular/core";
import { MenuItemComponent } from "../../../../../menus/modules/shared-menu/components/menu-item/menu-item.component";
import { Subject, takeUntil } from "rxjs";
import { SplitButtonTextTemplateDirective } from "../../directives/split-button-text-template.directive";
import { faChevronDown } from "@fortawesome/free-solid-svg-icons";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../../../../menus/modules/context-menu/components/context-menu/context-menu.component";
import * as i3 from "../../../button/directives/button.directive";
import * as i4 from "@fortawesome/angular-fontawesome";
export class SplitButtonComponent {
    constructor(cdr) {
        this.cdr = cdr;
        this.componentDestroy$ = new Subject();
        this.menuIcon = faChevronDown;
        this.menuItems = [];
        this.popupOffset = {
            horizontal: 0,
            vertical: 0.5
        };
        this.popupWidth = 0;
        this.buttonClick = new EventEmitter();
        this.disabled = false;
        this.menuItemComponents = new QueryList();
        this.text = "";
        this.textTemplate = null;
    }
    ngAfterContentInit() {
        this.menuItems = this.menuItemComponents.map(m => m.getMenuItem());
        this.menuItemComponents.changes.pipe(takeUntil(this.componentDestroy$)).subscribe(() => {
            this.menuItems = this.menuItemComponents.map(m => m.getMenuItem());
        });
    }
    ngAfterViewInit() {
        window.setTimeout(() => {
            this.popupWidth = this.wrapperElementRef.nativeElement.getBoundingClientRect().width - 1;
            this.popupOffset.horizontal = -this.mainButtonElementRef.nativeElement.offsetWidth - 1;
            this.contextMenuComponent.setPrecise(false);
            this.cdr.detectChanges();
        });
    }
    ngOnDestroy() {
        this.componentDestroy$.next();
        this.componentDestroy$.complete();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SplitButtonComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.0", type: SplitButtonComponent, selector: "mona-split-button", inputs: { disabled: "disabled", text: "text" }, outputs: { buttonClick: "buttonClick" }, queries: [{ propertyName: "textTemplate", first: true, predicate: SplitButtonTextTemplateDirective, descendants: true, read: TemplateRef }, { propertyName: "menuItemComponents", predicate: MenuItemComponent }], viewQueries: [{ propertyName: "contextMenuComponent", first: true, predicate: ["contextMenuComponent"], descendants: true }, { propertyName: "mainButtonElementRef", first: true, predicate: ["mainButton"], descendants: true }, { propertyName: "wrapperElementRef", first: true, predicate: ["wrapperElementRef"], descendants: true }], ngImport: i0, template: "<div class=\"mona-split-button\" #wrapperElementRef>\n    <button monaButton (click)=\"buttonClick.emit()\" [disabled]=\"disabled\" tabindex=\"0\" #mainButton>\n        <span class=\"mona-slit-button-text\" *ngIf=\"!textTemplate\">{{text}}</span>\n        <ng-container [ngTemplateOutlet]=\"textTemplate\" *ngIf=\"textTemplate\"></ng-container>\n    </button>\n    <button monaButton [disabled]=\"disabled\" tabindex=\"0\" #menuButton>\n        <fa-icon [icon]=\"menuIcon\"></fa-icon>\n    </button>\n    <mona-contextmenu [target]=\"menuButton\" trigger=\"click\" [minWidth]=\"popupWidth\" [offset]=\"popupOffset\" popupClass=\"mona-split-button-popup\"\n                      [menuItems]=\"menuItems\" #contextMenuComponent ></mona-contextmenu>\n</div>\n", styles: ["div.mona-split-button{display:flex;align-items:center;background-color:var(--mona-background);border:1px solid var(--mona-border-color);height:var(--mona-input-height);width:-moz-fit-content;width:fit-content}div.mona-split-button>[monaButton]{height:calc(100% - 2px);border-left:none;border-right:none}div.mona-split-button>[monaButton]:first-child{border-right:1px solid var(--mona-border-color)}div.mona-split-button>[monaButton]:nth-child(2)>span{font-size:18px;display:inline-block;transform-origin:center;transform:rotate(90deg)}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: i2.ContextMenuComponent, selector: "mona-contextmenu", inputs: ["menuItems", "minWidth", "offset", "popupClass", "target", "trigger", "width"], outputs: ["close", "navigate", "open"] }, { kind: "directive", type: i3.ButtonDirective, selector: "[monaButton]", inputs: ["disabled", "flat", "primary", "selected", "toggleable"], outputs: ["selectedChange"] }, { kind: "component", type: i4.FaIconComponent, selector: "fa-icon", inputs: ["icon", "title", "spin", "pulse", "mask", "styles", "flip", "size", "pull", "border", "inverse", "symbol", "rotate", "fixedWidth", "classes", "transform", "a11yRole"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SplitButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: "mona-split-button", template: "<div class=\"mona-split-button\" #wrapperElementRef>\n    <button monaButton (click)=\"buttonClick.emit()\" [disabled]=\"disabled\" tabindex=\"0\" #mainButton>\n        <span class=\"mona-slit-button-text\" *ngIf=\"!textTemplate\">{{text}}</span>\n        <ng-container [ngTemplateOutlet]=\"textTemplate\" *ngIf=\"textTemplate\"></ng-container>\n    </button>\n    <button monaButton [disabled]=\"disabled\" tabindex=\"0\" #menuButton>\n        <fa-icon [icon]=\"menuIcon\"></fa-icon>\n    </button>\n    <mona-contextmenu [target]=\"menuButton\" trigger=\"click\" [minWidth]=\"popupWidth\" [offset]=\"popupOffset\" popupClass=\"mona-split-button-popup\"\n                      [menuItems]=\"menuItems\" #contextMenuComponent ></mona-contextmenu>\n</div>\n", styles: ["div.mona-split-button{display:flex;align-items:center;background-color:var(--mona-background);border:1px solid var(--mona-border-color);height:var(--mona-input-height);width:-moz-fit-content;width:fit-content}div.mona-split-button>[monaButton]{height:calc(100% - 2px);border-left:none;border-right:none}div.mona-split-button>[monaButton]:first-child{border-right:1px solid var(--mona-border-color)}div.mona-split-button>[monaButton]:nth-child(2)>span{font-size:18px;display:inline-block;transform-origin:center;transform:rotate(90deg)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { buttonClick: [{
                type: Output
            }], contextMenuComponent: [{
                type: ViewChild,
                args: ["contextMenuComponent"]
            }], disabled: [{
                type: Input
            }], mainButtonElementRef: [{
                type: ViewChild,
                args: ["mainButton"]
            }], menuItemComponents: [{
                type: ContentChildren,
                args: [MenuItemComponent]
            }], text: [{
                type: Input
            }], textTemplate: [{
                type: ContentChild,
                args: [SplitButtonTextTemplateDirective, { read: TemplateRef }]
            }], wrapperElementRef: [{
                type: ViewChild,
                args: ["wrapperElementRef"]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXQtYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi9idXR0b25zL21vZHVsZXMvc3BsaXQtYnV0dG9uL2NvbXBvbmVudHMvc3BsaXQtYnV0dG9uL3NwbGl0LWJ1dHRvbi5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tb25hLXVpL3NyYy9saWIvYnV0dG9ucy9tb2R1bGVzL3NwbGl0LWJ1dHRvbi9jb21wb25lbnRzL3NwbGl0LWJ1dHRvbi9zcGxpdC1idXR0b24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUlILFNBQVMsRUFDVCxZQUFZLEVBQ1osZUFBZSxFQUVmLFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUNOLFNBQVMsRUFDVCxXQUFXLEVBQ1gsU0FBUyxFQUNaLE1BQU0sZUFBZSxDQUFDO0FBR3ZCLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLG1GQUFtRixDQUFDO0FBRXRILE9BQU8sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLHVEQUF1RCxDQUFDO0FBQ3pHLE9BQU8sRUFBRSxhQUFhLEVBQWtCLE1BQU0sbUNBQW1DLENBQUM7Ozs7OztBQU9sRixNQUFNLE9BQU8sb0JBQW9CO0lBa0M3QixZQUFvQyxHQUFzQjtRQUF0QixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQWpDekMsc0JBQWlCLEdBQWtCLElBQUksT0FBTyxFQUFRLENBQUM7UUFDeEQsYUFBUSxHQUFtQixhQUFhLENBQUM7UUFDbEQsY0FBUyxHQUFlLEVBQUUsQ0FBQztRQUMzQixnQkFBVyxHQUFnQjtZQUM5QixVQUFVLEVBQUUsQ0FBQztZQUNiLFFBQVEsRUFBRSxHQUFHO1NBQ2hCLENBQUM7UUFDSyxlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBR3ZCLGdCQUFXLEdBQXVCLElBQUksWUFBWSxFQUFRLENBQUM7UUFNM0QsYUFBUSxHQUFZLEtBQUssQ0FBQztRQU0xQix1QkFBa0IsR0FBaUMsSUFBSSxTQUFTLEVBQXFCLENBQUM7UUFHdEYsU0FBSSxHQUFXLEVBQUUsQ0FBQztRQUdsQixpQkFBWSxHQUE0QixJQUFJLENBQUM7SUFLUyxDQUFDO0lBRXZELGtCQUFrQjtRQUNyQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQ25GLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLGVBQWU7UUFDbEIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDbkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLHFCQUFxQixFQUFFLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUN6RixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztZQUN2RixJQUFJLENBQUMsb0JBQW9CLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDN0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sV0FBVztRQUNkLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDdEMsQ0FBQzs4R0F2RFEsb0JBQW9CO2tHQUFwQixvQkFBb0IsNExBNEJmLGdDQUFnQywyQkFBVSxXQUFXLHFEQU5sRCxpQkFBaUIseVdDbkR0QyxzdkJBV0E7OzJGRGtCYSxvQkFBb0I7a0JBTGhDLFNBQVM7K0JBQ0ksbUJBQW1CO3dHQWV0QixXQUFXO3NCQURqQixNQUFNO2dCQUlVLG9CQUFvQjtzQkFEcEMsU0FBUzt1QkFBQyxzQkFBc0I7Z0JBSTFCLFFBQVE7c0JBRGQsS0FBSztnQkFJVyxvQkFBb0I7c0JBRHBDLFNBQVM7dUJBQUMsWUFBWTtnQkFJaEIsa0JBQWtCO3NCQUR4QixlQUFlO3VCQUFDLGlCQUFpQjtnQkFJM0IsSUFBSTtzQkFEVixLQUFLO2dCQUlDLFlBQVk7c0JBRGxCLFlBQVk7dUJBQUMsZ0NBQWdDLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO2dCQUlwRCxpQkFBaUI7c0JBRGpDLFNBQVM7dUJBQUMsbUJBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBDb250ZW50Q2hpbGRyZW4sXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsXG4gICAgT25EZXN0cm95LFxuICAgIE91dHB1dCxcbiAgICBRdWVyeUxpc3QsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgVmlld0NoaWxkXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBQb3B1cE9mZnNldCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9wb3B1cC9tb2RlbHMvUG9wdXBPZmZzZXRcIjtcbmltcG9ydCB7IENvbnRleHRNZW51Q29tcG9uZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL21lbnVzL21vZHVsZXMvY29udGV4dC1tZW51L2NvbXBvbmVudHMvY29udGV4dC1tZW51L2NvbnRleHQtbWVudS5jb21wb25lbnRcIjtcbmltcG9ydCB7IE1lbnVJdGVtQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL21lbnVzL21vZHVsZXMvc2hhcmVkLW1lbnUvY29tcG9uZW50cy9tZW51LWl0ZW0vbWVudS1pdGVtLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbWVudXMvbW9kdWxlcy9jb250ZXh0LW1lbnUvbW9kZWxzL01lbnVJdGVtXCI7XG5pbXBvcnQgeyBTdWJqZWN0LCB0YWtlVW50aWwgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgU3BsaXRCdXR0b25UZXh0VGVtcGxhdGVEaXJlY3RpdmUgfSBmcm9tIFwiLi4vLi4vZGlyZWN0aXZlcy9zcGxpdC1idXR0b24tdGV4dC10ZW1wbGF0ZS5kaXJlY3RpdmVcIjtcbmltcG9ydCB7IGZhQ2hldnJvbkRvd24sIEljb25EZWZpbml0aW9uIH0gZnJvbSBcIkBmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29uc1wiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogXCJtb25hLXNwbGl0LWJ1dHRvblwiLFxuICAgIHRlbXBsYXRlVXJsOiBcIi4vc3BsaXQtYnV0dG9uLmNvbXBvbmVudC5odG1sXCIsXG4gICAgc3R5bGVVcmxzOiBbXCIuL3NwbGl0LWJ1dHRvbi5jb21wb25lbnQuc2Nzc1wiXVxufSlcbmV4cG9ydCBjbGFzcyBTcGxpdEJ1dHRvbkNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIEFmdGVyQ29udGVudEluaXQsIE9uRGVzdHJveSB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjb21wb25lbnREZXN0cm95JDogU3ViamVjdDx2b2lkPiA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gICAgcHVibGljIHJlYWRvbmx5IG1lbnVJY29uOiBJY29uRGVmaW5pdGlvbiA9IGZhQ2hldnJvbkRvd247XG4gICAgcHVibGljIG1lbnVJdGVtczogTWVudUl0ZW1bXSA9IFtdO1xuICAgIHB1YmxpYyBwb3B1cE9mZnNldDogUG9wdXBPZmZzZXQgPSB7XG4gICAgICAgIGhvcml6b250YWw6IDAsXG4gICAgICAgIHZlcnRpY2FsOiAwLjVcbiAgICB9O1xuICAgIHB1YmxpYyBwb3B1cFdpZHRoOiBudW1iZXIgPSAwO1xuXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIGJ1dHRvbkNsaWNrOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgICBAVmlld0NoaWxkKFwiY29udGV4dE1lbnVDb21wb25lbnRcIilcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRleHRNZW51Q29tcG9uZW50ITogQ29udGV4dE1lbnVDb21wb25lbnQ7XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQFZpZXdDaGlsZChcIm1haW5CdXR0b25cIilcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1haW5CdXR0b25FbGVtZW50UmVmITogRWxlbWVudFJlZjxIVE1MQnV0dG9uRWxlbWVudD47XG5cbiAgICBAQ29udGVudENoaWxkcmVuKE1lbnVJdGVtQ29tcG9uZW50KVxuICAgIHB1YmxpYyBtZW51SXRlbUNvbXBvbmVudHM6IFF1ZXJ5TGlzdDxNZW51SXRlbUNvbXBvbmVudD4gPSBuZXcgUXVlcnlMaXN0PE1lbnVJdGVtQ29tcG9uZW50PigpO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nID0gXCJcIjtcblxuICAgIEBDb250ZW50Q2hpbGQoU3BsaXRCdXR0b25UZXh0VGVtcGxhdGVEaXJlY3RpdmUsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSlcbiAgICBwdWJsaWMgdGV4dFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+IHwgbnVsbCA9IG51bGw7XG5cbiAgICBAVmlld0NoaWxkKFwid3JhcHBlckVsZW1lbnRSZWZcIilcbiAgICBwcml2YXRlIHJlYWRvbmx5IHdyYXBwZXJFbGVtZW50UmVmITogRWxlbWVudFJlZjxIVE1MRGl2RWxlbWVudD47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjZHI6IENoYW5nZURldGVjdG9yUmVmKSB7fVxuXG4gICAgcHVibGljIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtQ29tcG9uZW50cy5tYXAobSA9PiBtLmdldE1lbnVJdGVtKCkpO1xuICAgICAgICB0aGlzLm1lbnVJdGVtQ29tcG9uZW50cy5jaGFuZ2VzLnBpcGUodGFrZVVudGlsKHRoaXMuY29tcG9uZW50RGVzdHJveSQpKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZW51SXRlbXMgPSB0aGlzLm1lbnVJdGVtQ29tcG9uZW50cy5tYXAobSA9PiBtLmdldE1lbnVJdGVtKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwV2lkdGggPSB0aGlzLndyYXBwZXJFbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAxO1xuICAgICAgICAgICAgdGhpcy5wb3B1cE9mZnNldC5ob3Jpem9udGFsID0gLXRoaXMubWFpbkJ1dHRvbkVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCAtIDE7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51Q29tcG9uZW50LnNldFByZWNpc2UoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RGVzdHJveSQubmV4dCgpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudERlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgfVxufVxuIiwiPGRpdiBjbGFzcz1cIm1vbmEtc3BsaXQtYnV0dG9uXCIgI3dyYXBwZXJFbGVtZW50UmVmPlxuICAgIDxidXR0b24gbW9uYUJ1dHRvbiAoY2xpY2spPVwiYnV0dG9uQ2xpY2suZW1pdCgpXCIgW2Rpc2FibGVkXT1cImRpc2FibGVkXCIgdGFiaW5kZXg9XCIwXCIgI21haW5CdXR0b24+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibW9uYS1zbGl0LWJ1dHRvbi10ZXh0XCIgKm5nSWY9XCIhdGV4dFRlbXBsYXRlXCI+e3t0ZXh0fX08L3NwYW4+XG4gICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwidGV4dFRlbXBsYXRlXCIgKm5nSWY9XCJ0ZXh0VGVtcGxhdGVcIj48L25nLWNvbnRhaW5lcj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIG1vbmFCdXR0b24gW2Rpc2FibGVkXT1cImRpc2FibGVkXCIgdGFiaW5kZXg9XCIwXCIgI21lbnVCdXR0b24+XG4gICAgICAgIDxmYS1pY29uIFtpY29uXT1cIm1lbnVJY29uXCI+PC9mYS1pY29uPlxuICAgIDwvYnV0dG9uPlxuICAgIDxtb25hLWNvbnRleHRtZW51IFt0YXJnZXRdPVwibWVudUJ1dHRvblwiIHRyaWdnZXI9XCJjbGlja1wiIFttaW5XaWR0aF09XCJwb3B1cFdpZHRoXCIgW29mZnNldF09XCJwb3B1cE9mZnNldFwiIHBvcHVwQ2xhc3M9XCJtb25hLXNwbGl0LWJ1dHRvbi1wb3B1cFwiXG4gICAgICAgICAgICAgICAgICAgICAgW21lbnVJdGVtc109XCJtZW51SXRlbXNcIiAjY29udGV4dE1lbnVDb21wb25lbnQgPjwvbW9uYS1jb250ZXh0bWVudT5cbjwvZGl2PlxuIl19