import { Component, EventEmitter, forwardRef, Input, Output } from "@angular/core";
import { NG_VALUE_ACCESSOR } from "@angular/forms";
import { AbstractSliderComponent } from "../abstract-slider/abstract-slider.component";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class SliderComponent extends AbstractSliderComponent {
    constructor(elementRef, renderer, cdr, zone) {
        super(elementRef, renderer, cdr, zone);
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.cdr = cdr;
        this.zone = zone;
        this.propagateChange = null;
        this.ranged = false;
        this.value = null;
        this.valueChange = new EventEmitter();
    }
    ngOnInit() {
        super.ngOnInit();
        this.ensureCorrectValueType(this.value);
        if (this.value != null) {
            this.handlerValues = [
                Math.max(this.minValue, Math.min(this.maxValue, this.value)),
                Math.max(this.minValue, Math.min(this.maxValue, this.value))
            ];
        }
    }
    emitValues() {
        this.value = this.handlerValues[0];
        this.valueChange.emit(this.value);
        this.propagateChange?.(this.value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SliderComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.0", type: SliderComponent, selector: "mona-slider", inputs: { value: "value" }, outputs: { valueChange: "valueChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => SliderComponent),
                multi: true
            }
        ], usesInheritance: true, ngImport: i0, template: "<div class=\"mona-slider\" [ngClass]=\"{'mona-no-animation': !initialized, 'mona-slider-ranged': ranged,\n                                    'mona-slider-horizontal': orientation==='horizontal',\n                                    'mona-slider-vertical': orientation==='vertical'}\"\n     (focus)=\"sliderPrimaryHandlerElement.focus()\">\n    <div class=\"mona-slider-track\" #sliderTrackElement>\n        <div class=\"mona-slider-highlight\" [ngClass]=\"{'mona-dragging': dragging}\"\n             [style.width.%]=\"orientation==='horizontal' ? trackData.size : undefined\"\n             [style.height.%]=\"orientation==='vertical' ? trackData.size : undefined\"\n             [style.left.px]=\"orientation==='horizontal' ? trackData.position : undefined\"\n             [style.bottom.px]=\"orientation==='vertical' ? trackData.position : undefined\">\n        </div>\n    </div>\n    <div class=\"mona-slider-tick-list\" #tickListElement>\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== 0\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== ticks.length - 1\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n        </ng-container>\n    </div>\n    <div class=\"mona-slider-tick-label-list\" [ngClass]=\"{'mona-position-before': labelPosition==='before', 'mona-position-after': labelPosition==='after'}\">\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick-label\">\n                <span *ngIf=\"!tickValueTemplate && tx % labelStep === 0\">{{tick.value}}</span>\n                <span *ngIf=\"tickValueTemplate && tx % labelStep === 0\">\n                    <ng-container\n                        *ngTemplateOutlet=\"tickValueTemplate; context: {$implicit: tick.value}\"></ng-container>\n                </span>\n            </span>\n        </ng-container>\n    </div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-first\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerOnePosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerOnePosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='secondary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'primary')\"\n         (mousedown)=\"onHandlerMouseDown('primary')\" #sliderPrimaryHandlerElement></div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-second\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerTwoPosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerTwoPosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='primary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'secondary')\"\n         (mousedown)=\"onHandlerMouseDown('secondary')\" #sliderSecondaryHandlerElement *ngIf=\"ranged\"></div>\n</div>\n", styles: ["div.mona-slider{position:relative;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal{height:calc(var(--mona-input-height) * 2);display:flex;align-items:center;cursor:pointer}div.mona-slider.mona-slider-horizontal div.mona-slider-track{height:8px;width:100%;position:relative;z-index:1}div.mona-slider.mona-slider-horizontal .mona-slider-highlight{position:absolute;inset:0;border:none;transition:width ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:left ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);width:100%;height:100%;align-items:center}div.mona-slider.mona-slider-horizontal span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span.mona-dragging{height:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-horizontal span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 11px);display:flex;width:0}div.mona-slider.mona-slider-vertical{width:calc(var(--mona-input-height) * 2);height:100%;display:flex;justify-content:center;cursor:pointer}div.mona-slider.mona-slider-vertical div.mona-slider-track{width:8px;height:100%;position:relative;z-index:1}div.mona-slider.mona-slider-vertical .mona-slider-highlight{position:absolute;left:0;bottom:0;right:0;border:none;transition:height ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:top ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:row;grid-auto-rows:minmax(0,1fr);width:100%;height:100%;justify-content:center}div.mona-slider.mona-slider-vertical span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span.mona-dragging{width:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;flex-direction:column-reverse;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before>span>span{margin-right:10px}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-after>span>span{margin-left:10px}div.mona-slider.mona-slider-vertical span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 11px);display:flex;height:0}div.mona-slider.mona-slider-ranged,div.mona-slider.mona-slider-ranged *{transition:none!important}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: SliderComponent, decorators: [{
            type: Component,
            args: [{ selector: "mona-slider", providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => SliderComponent),
                            multi: true
                        }
                    ], template: "<div class=\"mona-slider\" [ngClass]=\"{'mona-no-animation': !initialized, 'mona-slider-ranged': ranged,\n                                    'mona-slider-horizontal': orientation==='horizontal',\n                                    'mona-slider-vertical': orientation==='vertical'}\"\n     (focus)=\"sliderPrimaryHandlerElement.focus()\">\n    <div class=\"mona-slider-track\" #sliderTrackElement>\n        <div class=\"mona-slider-highlight\" [ngClass]=\"{'mona-dragging': dragging}\"\n             [style.width.%]=\"orientation==='horizontal' ? trackData.size : undefined\"\n             [style.height.%]=\"orientation==='vertical' ? trackData.size : undefined\"\n             [style.left.px]=\"orientation==='horizontal' ? trackData.position : undefined\"\n             [style.bottom.px]=\"orientation==='vertical' ? trackData.position : undefined\">\n        </div>\n    </div>\n    <div class=\"mona-slider-tick-list\" #tickListElement>\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== 0\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== ticks.length - 1\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n        </ng-container>\n    </div>\n    <div class=\"mona-slider-tick-label-list\" [ngClass]=\"{'mona-position-before': labelPosition==='before', 'mona-position-after': labelPosition==='after'}\">\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick-label\">\n                <span *ngIf=\"!tickValueTemplate && tx % labelStep === 0\">{{tick.value}}</span>\n                <span *ngIf=\"tickValueTemplate && tx % labelStep === 0\">\n                    <ng-container\n                        *ngTemplateOutlet=\"tickValueTemplate; context: {$implicit: tick.value}\"></ng-container>\n                </span>\n            </span>\n        </ng-container>\n    </div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-first\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerOnePosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerOnePosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='secondary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'primary')\"\n         (mousedown)=\"onHandlerMouseDown('primary')\" #sliderPrimaryHandlerElement></div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-second\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerTwoPosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerTwoPosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='primary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'secondary')\"\n         (mousedown)=\"onHandlerMouseDown('secondary')\" #sliderSecondaryHandlerElement *ngIf=\"ranged\"></div>\n</div>\n", styles: ["div.mona-slider{position:relative;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal{height:calc(var(--mona-input-height) * 2);display:flex;align-items:center;cursor:pointer}div.mona-slider.mona-slider-horizontal div.mona-slider-track{height:8px;width:100%;position:relative;z-index:1}div.mona-slider.mona-slider-horizontal .mona-slider-highlight{position:absolute;inset:0;border:none;transition:width ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:left ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);width:100%;height:100%;align-items:center}div.mona-slider.mona-slider-horizontal span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span.mona-dragging{height:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-horizontal span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 11px);display:flex;width:0}div.mona-slider.mona-slider-vertical{width:calc(var(--mona-input-height) * 2);height:100%;display:flex;justify-content:center;cursor:pointer}div.mona-slider.mona-slider-vertical div.mona-slider-track{width:8px;height:100%;position:relative;z-index:1}div.mona-slider.mona-slider-vertical .mona-slider-highlight{position:absolute;left:0;bottom:0;right:0;border:none;transition:height ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:top ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:row;grid-auto-rows:minmax(0,1fr);width:100%;height:100%;justify-content:center}div.mona-slider.mona-slider-vertical span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span.mona-dragging{width:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;flex-direction:column-reverse;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before>span>span{margin-right:10px}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-after>span>span{margin-left:10px}div.mona-slider.mona-slider-vertical span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 11px);display:flex;height:0}div.mona-slider.mona-slider-ranged,div.mona-slider.mona-slider-ranged *{transition:none!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }]; }, propDecorators: { value: [{
                type: Input
            }], valueChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xpZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi9pbnB1dHMvbW9kdWxlcy9zbGlkZXIvY29tcG9uZW50cy9zbGlkZXIvc2xpZGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi9pbnB1dHMvbW9kdWxlcy9zbGlkZXIvY29tcG9uZW50cy9hYnN0cmFjdC1zbGlkZXIvYWJzdHJhY3Qtc2xpZGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFHSCxTQUFTLEVBRVQsWUFBWSxFQUNaLFVBQVUsRUFDVixLQUFLLEVBS0wsTUFBTSxFQUVULE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBd0IsaUJBQWlCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw4Q0FBOEMsQ0FBQzs7O0FBY3ZGLE1BQU0sT0FBTyxlQUNULFNBQVEsdUJBQXVCO0lBWS9CLFlBQ2dDLFVBQW1DLEVBQ25DLFFBQW1CLEVBQ25CLEdBQXNCLEVBQ3RCLElBQVk7UUFFeEMsS0FBSyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBTFgsZUFBVSxHQUFWLFVBQVUsQ0FBeUI7UUFDbkMsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQUNuQixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQUN0QixTQUFJLEdBQUosSUFBSSxDQUFRO1FBYnpCLG9CQUFlLEdBQXVCLElBQUksQ0FBQztRQUM5QyxXQUFNLEdBQVksS0FBSyxDQUFDO1FBR3hCLFVBQUssR0FBa0IsSUFBSSxDQUFDO1FBRzVCLGdCQUFXLEdBQXlCLElBQUksWUFBWSxFQUFVLENBQUM7SUFTL0UsQ0FBQztJQUVlLFFBQVE7UUFDcEIsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtZQUNwQixJQUFJLENBQUMsYUFBYSxHQUFHO2dCQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDNUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDL0QsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUVrQixVQUFVO1FBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxDQUFDOzhHQXJDUSxlQUFlO2tHQUFmLGVBQWUsMkdBUmI7WUFDUDtnQkFDSSxPQUFPLEVBQUUsaUJBQWlCO2dCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQztnQkFDOUMsS0FBSyxFQUFFLElBQUk7YUFDZDtTQUNKLGlEQzdCTCwwaEhBd0RBOzsyRkR6QmEsZUFBZTtrQkFaM0IsU0FBUzsrQkFDSSxhQUFhLGFBR1o7d0JBQ1A7NEJBQ0ksT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUM7NEJBQzlDLEtBQUssRUFBRSxJQUFJO3lCQUNkO3FCQUNKOzhLQVVlLEtBQUs7c0JBRHBCLEtBQUs7Z0JBSVUsV0FBVztzQkFEMUIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQWZ0ZXJWaWV3SW5pdCxcbiAgICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBDb21wb25lbnQsXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgZm9yd2FyZFJlZixcbiAgICBJbnB1dCxcbiAgICBOZ1pvbmUsXG4gICAgT25DaGFuZ2VzLFxuICAgIE9uRGVzdHJveSxcbiAgICBPbkluaXQsXG4gICAgT3V0cHV0LFxuICAgIFJlbmRlcmVyMlxufSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL0FjdGlvblwiO1xuaW1wb3J0IHsgQ29udHJvbFZhbHVlQWNjZXNzb3IsIE5HX1ZBTFVFX0FDQ0VTU09SIH0gZnJvbSBcIkBhbmd1bGFyL2Zvcm1zXCI7XG5pbXBvcnQgeyBBYnN0cmFjdFNsaWRlckNvbXBvbmVudCB9IGZyb20gXCIuLi9hYnN0cmFjdC1zbGlkZXIvYWJzdHJhY3Qtc2xpZGVyLmNvbXBvbmVudFwiO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogXCJtb25hLXNsaWRlclwiLFxuICAgIHRlbXBsYXRlVXJsOiBcIi4vLi4vYWJzdHJhY3Qtc2xpZGVyL2Fic3RyYWN0LXNsaWRlci5jb21wb25lbnQuaHRtbFwiLFxuICAgIHN0eWxlVXJsczogW1wiLi8uLi9hYnN0cmFjdC1zbGlkZXIvYWJzdHJhY3Qtc2xpZGVyLmNvbXBvbmVudC5zY3NzXCJdLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICAgICAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFNsaWRlckNvbXBvbmVudCksXG4gICAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBTbGlkZXJDb21wb25lbnRcbiAgICBleHRlbmRzIEFic3RyYWN0U2xpZGVyQ29tcG9uZW50XG4gICAgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBDb250cm9sVmFsdWVBY2Nlc3Nvclxue1xuICAgIHByb3RlY3RlZCBvdmVycmlkZSBwcm9wYWdhdGVDaGFuZ2U6IEFjdGlvbjxhbnk+IHwgbnVsbCA9IG51bGw7XG4gICAgcHVibGljIG92ZXJyaWRlIHJhbmdlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgb3ZlcnJpZGUgdmFsdWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIG92ZXJyaWRlIHZhbHVlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVhZG9ubHkgZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXG4gICAgICAgIHByb3RlY3RlZCBvdmVycmlkZSByZWFkb25seSByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVhZG9ubHkgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICAgICAgcHJvdGVjdGVkIG92ZXJyaWRlIHJlYWRvbmx5IHpvbmU6IE5nWm9uZVxuICAgICkge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLCByZW5kZXJlciwgY2RyLCB6b25lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3ZlcnJpZGUgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgICAgIHRoaXMuZW5zdXJlQ29ycmVjdFZhbHVlVHlwZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyVmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIE1hdGgubWF4KHRoaXMubWluVmFsdWUsIE1hdGgubWluKHRoaXMubWF4VmFsdWUsIHRoaXMudmFsdWUpKSxcbiAgICAgICAgICAgICAgICBNYXRoLm1heCh0aGlzLm1pblZhbHVlLCBNYXRoLm1pbih0aGlzLm1heFZhbHVlLCB0aGlzLnZhbHVlKSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgZW1pdFZhbHVlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaGFuZGxlclZhbHVlc1swXTtcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRoaXMudmFsdWUpO1xuICAgICAgICB0aGlzLnByb3BhZ2F0ZUNoYW5nZT8uKHRoaXMudmFsdWUpO1xuICAgIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJtb25hLXNsaWRlclwiIFtuZ0NsYXNzXT1cInsnbW9uYS1uby1hbmltYXRpb24nOiAhaW5pdGlhbGl6ZWQsICdtb25hLXNsaWRlci1yYW5nZWQnOiByYW5nZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbW9uYS1zbGlkZXItaG9yaXpvbnRhbCc6IG9yaWVudGF0aW9uPT09J2hvcml6b250YWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vbmEtc2xpZGVyLXZlcnRpY2FsJzogb3JpZW50YXRpb249PT0ndmVydGljYWwnfVwiXG4gICAgIChmb2N1cyk9XCJzbGlkZXJQcmltYXJ5SGFuZGxlckVsZW1lbnQuZm9jdXMoKVwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXNsaWRlci10cmFja1wiICNzbGlkZXJUcmFja0VsZW1lbnQ+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb25hLXNsaWRlci1oaWdobGlnaHRcIiBbbmdDbGFzc109XCJ7J21vbmEtZHJhZ2dpbmcnOiBkcmFnZ2luZ31cIlxuICAgICAgICAgICAgIFtzdHlsZS53aWR0aC4lXT1cIm9yaWVudGF0aW9uPT09J2hvcml6b250YWwnID8gdHJhY2tEYXRhLnNpemUgOiB1bmRlZmluZWRcIlxuICAgICAgICAgICAgIFtzdHlsZS5oZWlnaHQuJV09XCJvcmllbnRhdGlvbj09PSd2ZXJ0aWNhbCcgPyB0cmFja0RhdGEuc2l6ZSA6IHVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgW3N0eWxlLmxlZnQucHhdPVwib3JpZW50YXRpb249PT0naG9yaXpvbnRhbCcgPyB0cmFja0RhdGEucG9zaXRpb24gOiB1bmRlZmluZWRcIlxuICAgICAgICAgICAgIFtzdHlsZS5ib3R0b20ucHhdPVwib3JpZW50YXRpb249PT0ndmVydGljYWwnID8gdHJhY2tEYXRhLnBvc2l0aW9uIDogdW5kZWZpbmVkXCI+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXNsaWRlci10aWNrLWxpc3RcIiAjdGlja0xpc3RFbGVtZW50PlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCB0aWNrIG9mIHRpY2tzOyBsZXQgdHggPSBpbmRleDtcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibW9uYS1zbGlkZXItdGlja1wiIFtuZ0NsYXNzXT1cInsnbW9uYS1zbGlkZXItdGljay12aXNpYmxlJzogc2hvd1RpY2tzfVwiICN0aWNrU3BhbkVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICpuZ0lmPVwidHggIT09IDBcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBbbmdDbGFzc109XCJ7J21vbmEtZHJhZ2dpbmcnOiBkcmFnZ2luZ31cIlxuICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblRpY2tDbGljaygkZXZlbnQsIHRpY2tTcGFuRWxlbWVudClcIj48L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vbmEtc2xpZGVyLXRpY2tcIiBbbmdDbGFzc109XCJ7J21vbmEtc2xpZGVyLXRpY2stdmlzaWJsZSc6IHNob3dUaWNrc31cIiAjdGlja1NwYW5FbGVtZW50XG4gICAgICAgICAgICAgICAgICAqbmdJZj1cInR4ICE9PSB0aWNrcy5sZW5ndGggLSAxXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gW25nQ2xhc3NdPVwieydtb25hLWRyYWdnaW5nJzogZHJhZ2dpbmd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25UaWNrQ2xpY2soJGV2ZW50LCB0aWNrU3BhbkVsZW1lbnQpXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9uYS1zbGlkZXItdGljay1sYWJlbC1saXN0XCIgW25nQ2xhc3NdPVwieydtb25hLXBvc2l0aW9uLWJlZm9yZSc6IGxhYmVsUG9zaXRpb249PT0nYmVmb3JlJywgJ21vbmEtcG9zaXRpb24tYWZ0ZXInOiBsYWJlbFBvc2l0aW9uPT09J2FmdGVyJ31cIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgdGljayBvZiB0aWNrczsgbGV0IHR4ID0gaW5kZXg7XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vbmEtc2xpZGVyLXRpY2stbGFiZWxcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiF0aWNrVmFsdWVUZW1wbGF0ZSAmJiB0eCAlIGxhYmVsU3RlcCA9PT0gMFwiPnt7dGljay52YWx1ZX19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwidGlja1ZhbHVlVGVtcGxhdGUgJiYgdHggJSBsYWJlbFN0ZXAgPT09IDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJ0aWNrVmFsdWVUZW1wbGF0ZTsgY29udGV4dDogeyRpbXBsaWNpdDogdGljay52YWx1ZX1cIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtc2xpZGVyLWhhbmRsZXIgbW9uYS1zbGlkZXItaGFuZGxlci1maXJzdFwiXG4gICAgICAgICBbbmdDbGFzc109XCJ7J21vbmEtZHJhZ2dpbmcnOiBkcmFnZ2luZ31cIlxuICAgICAgICAgW3N0eWxlLmxlZnQuJV09XCJvcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gaGFuZGxlck9uZVBvc2l0aW9uIDogdW5kZWZpbmVkXCJcbiAgICAgICAgIFtzdHlsZS5ib3R0b20uJV09XCJvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IGhhbmRsZXJPbmVQb3NpdGlvbiA6IHVuZGVmaW5lZFwiXG4gICAgICAgICBbc3R5bGUucG9pbnRlci1ldmVudHNdPVwiZHJhZ2dpbmcgJiYgYWN0aXZlSGFuZGxlclR5cGU9PT0nc2Vjb25kYXJ5JyA/ICdub25lJyA6IHVuZGVmaW5lZFwiXG4gICAgICAgICBbYXR0ci50YWJpbmRleF09XCIwXCJcbiAgICAgICAgIChrZXlkb3duKT1cIm9uSGFuZGxlcktleURvd24oJGV2ZW50LCAncHJpbWFyeScpXCJcbiAgICAgICAgIChtb3VzZWRvd24pPVwib25IYW5kbGVyTW91c2VEb3duKCdwcmltYXJ5JylcIiAjc2xpZGVyUHJpbWFyeUhhbmRsZXJFbGVtZW50PjwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtc2xpZGVyLWhhbmRsZXIgbW9uYS1zbGlkZXItaGFuZGxlci1zZWNvbmRcIlxuICAgICAgICAgW25nQ2xhc3NdPVwieydtb25hLWRyYWdnaW5nJzogZHJhZ2dpbmd9XCJcbiAgICAgICAgIFtzdHlsZS5sZWZ0LiVdPVwib3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IGhhbmRsZXJUd29Qb3NpdGlvbiA6IHVuZGVmaW5lZFwiXG4gICAgICAgICBbc3R5bGUuYm90dG9tLiVdPVwib3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyBoYW5kbGVyVHdvUG9zaXRpb24gOiB1bmRlZmluZWRcIlxuICAgICAgICAgW3N0eWxlLnBvaW50ZXItZXZlbnRzXT1cImRyYWdnaW5nICYmIGFjdGl2ZUhhbmRsZXJUeXBlPT09J3ByaW1hcnknID8gJ25vbmUnIDogdW5kZWZpbmVkXCJcbiAgICAgICAgIFthdHRyLnRhYmluZGV4XT1cIjBcIlxuICAgICAgICAgKGtleWRvd24pPVwib25IYW5kbGVyS2V5RG93bigkZXZlbnQsICdzZWNvbmRhcnknKVwiXG4gICAgICAgICAobW91c2Vkb3duKT1cIm9uSGFuZGxlck1vdXNlRG93bignc2Vjb25kYXJ5JylcIiAjc2xpZGVyU2Vjb25kYXJ5SGFuZGxlckVsZW1lbnQgKm5nSWY9XCJyYW5nZWRcIj48L2Rpdj5cbjwvZGl2PlxuIl19