import { Component, EventEmitter, forwardRef, Input, Output } from "@angular/core";
import { AbstractSliderComponent } from "../abstract-slider/abstract-slider.component";
import { NG_VALUE_ACCESSOR } from "@angular/forms";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class RangeSliderComponent extends AbstractSliderComponent {
    constructor(elementRef, renderer, cdr, zone) {
        super(elementRef, renderer, cdr, zone);
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.cdr = cdr;
        this.zone = zone;
        this.propagateChange = null;
        this.ranged = true;
        this.value = null;
        this.valueChange = new EventEmitter();
    }
    ngOnInit() {
        super.ngOnInit();
        this.ensureCorrectValueType(this.value);
        if (this.value != null) {
            this.handlerValues = [
                Math.max(this.minValue, Math.min(this.maxValue, this.value[0])),
                Math.max(this.minValue, Math.min(this.maxValue, this.value[1]))
            ];
        }
    }
    emitValues() {
        this.value = [this.handlerValues[0], this.handlerValues[1]];
        this.valueChange.emit(this.value);
        this.propagateChange?.(this.value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: RangeSliderComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.0", type: RangeSliderComponent, selector: "mona-range-slider", inputs: { value: "value" }, outputs: { valueChange: "valueChange" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => RangeSliderComponent),
                multi: true
            }
        ], usesInheritance: true, ngImport: i0, template: "<div class=\"mona-slider\" [ngClass]=\"{'mona-no-animation': !initialized, 'mona-slider-ranged': ranged,\n                                    'mona-slider-horizontal': orientation==='horizontal',\n                                    'mona-slider-vertical': orientation==='vertical'}\"\n     (focus)=\"sliderPrimaryHandlerElement.focus()\">\n    <div class=\"mona-slider-track\" #sliderTrackElement>\n        <div class=\"mona-slider-highlight\" [ngClass]=\"{'mona-dragging': dragging}\"\n             [style.width.%]=\"orientation==='horizontal' ? trackData.size : undefined\"\n             [style.height.%]=\"orientation==='vertical' ? trackData.size : undefined\"\n             [style.left.px]=\"orientation==='horizontal' ? trackData.position : undefined\"\n             [style.bottom.px]=\"orientation==='vertical' ? trackData.position : undefined\">\n        </div>\n    </div>\n    <div class=\"mona-slider-tick-list\" #tickListElement>\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== 0\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== ticks.length - 1\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n        </ng-container>\n    </div>\n    <div class=\"mona-slider-tick-label-list\" [ngClass]=\"{'mona-position-before': labelPosition==='before', 'mona-position-after': labelPosition==='after'}\">\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick-label\">\n                <span *ngIf=\"!tickValueTemplate && tx % labelStep === 0\">{{tick.value}}</span>\n                <span *ngIf=\"tickValueTemplate && tx % labelStep === 0\">\n                    <ng-container\n                        *ngTemplateOutlet=\"tickValueTemplate; context: {$implicit: tick.value}\"></ng-container>\n                </span>\n            </span>\n        </ng-container>\n    </div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-first\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerOnePosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerOnePosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='secondary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'primary')\"\n         (mousedown)=\"onHandlerMouseDown('primary')\" #sliderPrimaryHandlerElement></div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-second\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerTwoPosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerTwoPosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='primary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'secondary')\"\n         (mousedown)=\"onHandlerMouseDown('secondary')\" #sliderSecondaryHandlerElement *ngIf=\"ranged\"></div>\n</div>\n", styles: ["div.mona-slider{position:relative;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal{height:calc(var(--mona-input-height) * 2);display:flex;align-items:center;cursor:pointer}div.mona-slider.mona-slider-horizontal div.mona-slider-track{height:8px;width:100%;position:relative;z-index:1}div.mona-slider.mona-slider-horizontal .mona-slider-highlight{position:absolute;inset:0;border:none;transition:width ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:left ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);width:100%;height:100%;align-items:center}div.mona-slider.mona-slider-horizontal span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span.mona-dragging{height:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-horizontal span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 11px);display:flex;width:0}div.mona-slider.mona-slider-vertical{width:calc(var(--mona-input-height) * 2);height:100%;display:flex;justify-content:center;cursor:pointer}div.mona-slider.mona-slider-vertical div.mona-slider-track{width:8px;height:100%;position:relative;z-index:1}div.mona-slider.mona-slider-vertical .mona-slider-highlight{position:absolute;left:0;bottom:0;right:0;border:none;transition:height ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:top ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:row;grid-auto-rows:minmax(0,1fr);width:100%;height:100%;justify-content:center}div.mona-slider.mona-slider-vertical span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span.mona-dragging{width:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;flex-direction:column-reverse;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before>span>span{margin-right:10px}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-after>span>span{margin-left:10px}div.mona-slider.mona-slider-vertical span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 11px);display:flex;height:0}div.mona-slider.mona-slider-ranged,div.mona-slider.mona-slider-ranged *{transition:none!important}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: RangeSliderComponent, decorators: [{
            type: Component,
            args: [{ selector: "mona-range-slider", providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => RangeSliderComponent),
                            multi: true
                        }
                    ], template: "<div class=\"mona-slider\" [ngClass]=\"{'mona-no-animation': !initialized, 'mona-slider-ranged': ranged,\n                                    'mona-slider-horizontal': orientation==='horizontal',\n                                    'mona-slider-vertical': orientation==='vertical'}\"\n     (focus)=\"sliderPrimaryHandlerElement.focus()\">\n    <div class=\"mona-slider-track\" #sliderTrackElement>\n        <div class=\"mona-slider-highlight\" [ngClass]=\"{'mona-dragging': dragging}\"\n             [style.width.%]=\"orientation==='horizontal' ? trackData.size : undefined\"\n             [style.height.%]=\"orientation==='vertical' ? trackData.size : undefined\"\n             [style.left.px]=\"orientation==='horizontal' ? trackData.position : undefined\"\n             [style.bottom.px]=\"orientation==='vertical' ? trackData.position : undefined\">\n        </div>\n    </div>\n    <div class=\"mona-slider-tick-list\" #tickListElement>\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== 0\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n            <span class=\"mona-slider-tick\" [ngClass]=\"{'mona-slider-tick-visible': showTicks}\" #tickSpanElement\n                  *ngIf=\"tx !== ticks.length - 1\">\n                <span [ngClass]=\"{'mona-dragging': dragging}\"\n                      (click)=\"onTickClick($event, tickSpanElement)\"></span>\n            </span>\n        </ng-container>\n    </div>\n    <div class=\"mona-slider-tick-label-list\" [ngClass]=\"{'mona-position-before': labelPosition==='before', 'mona-position-after': labelPosition==='after'}\">\n        <ng-container *ngFor=\"let tick of ticks; let tx = index;\">\n            <span class=\"mona-slider-tick-label\">\n                <span *ngIf=\"!tickValueTemplate && tx % labelStep === 0\">{{tick.value}}</span>\n                <span *ngIf=\"tickValueTemplate && tx % labelStep === 0\">\n                    <ng-container\n                        *ngTemplateOutlet=\"tickValueTemplate; context: {$implicit: tick.value}\"></ng-container>\n                </span>\n            </span>\n        </ng-container>\n    </div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-first\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerOnePosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerOnePosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='secondary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'primary')\"\n         (mousedown)=\"onHandlerMouseDown('primary')\" #sliderPrimaryHandlerElement></div>\n\n    <div class=\"mona-slider-handler mona-slider-handler-second\"\n         [ngClass]=\"{'mona-dragging': dragging}\"\n         [style.left.%]=\"orientation === 'horizontal' ? handlerTwoPosition : undefined\"\n         [style.bottom.%]=\"orientation === 'vertical' ? handlerTwoPosition : undefined\"\n         [style.pointer-events]=\"dragging && activeHandlerType==='primary' ? 'none' : undefined\"\n         [attr.tabindex]=\"0\"\n         (keydown)=\"onHandlerKeyDown($event, 'secondary')\"\n         (mousedown)=\"onHandlerMouseDown('secondary')\" #sliderSecondaryHandlerElement *ngIf=\"ranged\"></div>\n</div>\n", styles: ["div.mona-slider{position:relative;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal{height:calc(var(--mona-input-height) * 2);display:flex;align-items:center;cursor:pointer}div.mona-slider.mona-slider-horizontal div.mona-slider-track{height:8px;width:100%;position:relative;z-index:1}div.mona-slider.mona-slider-horizontal .mona-slider-highlight{position:absolute;inset:0;border:none;transition:width ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:left ease-in-out .05s}div.mona-slider.mona-slider-horizontal .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);width:100%;height:100%;align-items:center}div.mona-slider.mona-slider-horizontal span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-horizontal span.mona-slider-tick>span.mona-dragging{height:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-horizontal .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-horizontal span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;height:calc(var(--mona-input-height) - 11px);display:flex;width:0}div.mona-slider.mona-slider-vertical{width:calc(var(--mona-input-height) * 2);height:100%;display:flex;justify-content:center;cursor:pointer}div.mona-slider.mona-slider-vertical div.mona-slider-track{width:8px;height:100%;position:relative;z-index:1}div.mona-slider.mona-slider-vertical .mona-slider-highlight{position:absolute;left:0;bottom:0;right:0;border:none;transition:height ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-highlight.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-handler{position:absolute;width:calc(var(--mona-input-height) - 12px);height:calc(var(--mona-input-height) - 12px);display:flex;align-items:center;justify-content:center;z-index:4;outline:none;transition:top ease-in-out .05s}div.mona-slider.mona-slider-vertical .mona-slider-handler.mona-dragging{transition:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-list{display:grid;position:absolute;grid-auto-flow:row;grid-auto-rows:minmax(0,1fr);width:100%;height:100%;justify-content:center}div.mona-slider.mona-slider-vertical span.mona-slider-tick{display:inline-flex;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 12px)}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span{width:100%;height:100%;z-index:3}div.mona-slider.mona-slider-vertical span.mona-slider-tick>span.mona-dragging{width:calc(var(--mona-input-height) * 2)}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list{position:absolute;width:100%;height:100%;flex-direction:column-reverse;align-items:flex-end;display:flex;justify-content:space-between;-webkit-user-select:none;user-select:none}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before{align-items:flex-start}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-before>span>span{margin-right:10px}div.mona-slider.mona-slider-vertical .mona-slider-tick-label-list.mona-position-after>span>span{margin-left:10px}div.mona-slider.mona-slider-vertical span.mona-slider-tick-label{position:relative;align-items:center;justify-content:center;width:calc(var(--mona-input-height) - 11px);display:flex;height:0}div.mona-slider.mona-slider-ranged,div.mona-slider.mona-slider-ranged *{transition:none!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }]; }, propDecorators: { value: [{
                type: Input
            }], valueChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZ2Utc2xpZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi9pbnB1dHMvbW9kdWxlcy9zbGlkZXIvY29tcG9uZW50cy9yYW5nZS1zbGlkZXIvcmFuZ2Utc2xpZGVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi9pbnB1dHMvbW9kdWxlcy9zbGlkZXIvY29tcG9uZW50cy9hYnN0cmFjdC1zbGlkZXIvYWJzdHJhY3Qtc2xpZGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxTQUFTLEVBRVQsWUFBWSxFQUNaLFVBQVUsRUFDVixLQUFLLEVBR0wsTUFBTSxFQUVULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDhDQUE4QyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7QUFlbkQsTUFBTSxPQUFPLG9CQUFxQixTQUFRLHVCQUF1QjtJQVU3RCxZQUNnQyxVQUFtQyxFQUNuQyxRQUFtQixFQUNuQixHQUFzQixFQUN0QixJQUFZO1FBRXhDLEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUxYLGVBQVUsR0FBVixVQUFVLENBQXlCO1FBQ25DLGFBQVEsR0FBUixRQUFRLENBQVc7UUFDbkIsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFDdEIsU0FBSSxHQUFKLElBQUksQ0FBUTtRQWJ6QixvQkFBZSxHQUF1QixJQUFJLENBQUM7UUFDOUMsV0FBTSxHQUFZLElBQUksQ0FBQztRQUd2QixVQUFLLEdBQTRCLElBQUksQ0FBQztRQUd0QyxnQkFBVyxHQUFtQyxJQUFJLFlBQVksRUFBb0IsQ0FBQztJQVNuRyxDQUFDO0lBRWUsUUFBUTtRQUNwQixLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQ3BCLElBQUksQ0FBQyxhQUFhLEdBQUc7Z0JBQ2pCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvRCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNsRSxDQUFDO1NBQ0w7SUFDTCxDQUFDO0lBRWtCLFVBQVU7UUFDekIsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7OEdBbENRLG9CQUFvQjtrR0FBcEIsb0JBQW9CLGlIQVJsQjtZQUNQO2dCQUNJLE9BQU8sRUFBRSxpQkFBaUI7Z0JBQzFCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsb0JBQW9CLENBQUM7Z0JBQ25ELEtBQUssRUFBRSxJQUFJO2FBQ2Q7U0FDSixpREMxQkwsMGhIQXdEQTs7MkZENUJhLG9CQUFvQjtrQkFaaEMsU0FBUzsrQkFDSSxtQkFBbUIsYUFHbEI7d0JBQ1A7NEJBQ0ksT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLENBQUM7NEJBQ25ELEtBQUssRUFBRSxJQUFJO3lCQUNkO3FCQUNKOzhLQU9lLEtBQUs7c0JBRHBCLEtBQUs7Z0JBSVUsV0FBVztzQkFEMUIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIEVsZW1lbnRSZWYsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSW5wdXQsXG4gICAgTmdab25lLFxuICAgIE9uSW5pdCxcbiAgICBPdXRwdXQsXG4gICAgUmVuZGVyZXIyXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBBYnN0cmFjdFNsaWRlckNvbXBvbmVudCB9IGZyb20gXCIuLi9hYnN0cmFjdC1zbGlkZXIvYWJzdHJhY3Qtc2xpZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlscy9BY3Rpb25cIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6IFwibW9uYS1yYW5nZS1zbGlkZXJcIixcbiAgICB0ZW1wbGF0ZVVybDogXCIuLy4uL2Fic3RyYWN0LXNsaWRlci9hYnN0cmFjdC1zbGlkZXIuY29tcG9uZW50Lmh0bWxcIixcbiAgICBzdHlsZVVybHM6IFtcIi4vLi4vYWJzdHJhY3Qtc2xpZGVyL2Fic3RyYWN0LXNsaWRlci5jb21wb25lbnQuc2Nzc1wiXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBSYW5nZVNsaWRlckNvbXBvbmVudCksXG4gICAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBSYW5nZVNsaWRlckNvbXBvbmVudCBleHRlbmRzIEFic3RyYWN0U2xpZGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcHJvcGFnYXRlQ2hhbmdlOiBBY3Rpb248YW55PiB8IG51bGwgPSBudWxsO1xuICAgIHB1YmxpYyBvdmVycmlkZSByYW5nZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgb3ZlcnJpZGUgdmFsdWU6IFtudW1iZXIsIG51bWJlcl0gfCBudWxsID0gbnVsbDtcblxuICAgIEBPdXRwdXQoKVxuICAgIHB1YmxpYyBvdmVycmlkZSB2YWx1ZUNoYW5nZTogRXZlbnRFbWl0dGVyPFtudW1iZXIsIG51bWJlcl0+ID0gbmV3IEV2ZW50RW1pdHRlcjxbbnVtYmVyLCBudW1iZXJdPigpO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVhZG9ubHkgZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sXG4gICAgICAgIHByb3RlY3RlZCBvdmVycmlkZSByZWFkb25seSByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVhZG9ubHkgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICAgICAgcHJvdGVjdGVkIG92ZXJyaWRlIHJlYWRvbmx5IHpvbmU6IE5nWm9uZVxuICAgICkge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLCByZW5kZXJlciwgY2RyLCB6b25lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3ZlcnJpZGUgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgICAgIHRoaXMuZW5zdXJlQ29ycmVjdFZhbHVlVHlwZSh0aGlzLnZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyVmFsdWVzID0gW1xuICAgICAgICAgICAgICAgIE1hdGgubWF4KHRoaXMubWluVmFsdWUsIE1hdGgubWluKHRoaXMubWF4VmFsdWUsIHRoaXMudmFsdWVbMF0pKSxcbiAgICAgICAgICAgICAgICBNYXRoLm1heCh0aGlzLm1pblZhbHVlLCBNYXRoLm1pbih0aGlzLm1heFZhbHVlLCB0aGlzLnZhbHVlWzFdKSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb3ZlcnJpZGUgZW1pdFZhbHVlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IFt0aGlzLmhhbmRsZXJWYWx1ZXNbMF0sIHRoaXMuaGFuZGxlclZhbHVlc1sxXV07XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aGlzLnZhbHVlKTtcbiAgICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2U/Lih0aGlzLnZhbHVlKTtcbiAgICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwibW9uYS1zbGlkZXJcIiBbbmdDbGFzc109XCJ7J21vbmEtbm8tYW5pbWF0aW9uJzogIWluaXRpYWxpemVkLCAnbW9uYS1zbGlkZXItcmFuZ2VkJzogcmFuZ2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vbmEtc2xpZGVyLWhvcml6b250YWwnOiBvcmllbnRhdGlvbj09PSdob3Jpem9udGFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtb25hLXNsaWRlci12ZXJ0aWNhbCc6IG9yaWVudGF0aW9uPT09J3ZlcnRpY2FsJ31cIlxuICAgICAoZm9jdXMpPVwic2xpZGVyUHJpbWFyeUhhbmRsZXJFbGVtZW50LmZvY3VzKClcIj5cbiAgICA8ZGl2IGNsYXNzPVwibW9uYS1zbGlkZXItdHJhY2tcIiAjc2xpZGVyVHJhY2tFbGVtZW50PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9uYS1zbGlkZXItaGlnaGxpZ2h0XCIgW25nQ2xhc3NdPVwieydtb25hLWRyYWdnaW5nJzogZHJhZ2dpbmd9XCJcbiAgICAgICAgICAgICBbc3R5bGUud2lkdGguJV09XCJvcmllbnRhdGlvbj09PSdob3Jpem9udGFsJyA/IHRyYWNrRGF0YS5zaXplIDogdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICBbc3R5bGUuaGVpZ2h0LiVdPVwib3JpZW50YXRpb249PT0ndmVydGljYWwnID8gdHJhY2tEYXRhLnNpemUgOiB1bmRlZmluZWRcIlxuICAgICAgICAgICAgIFtzdHlsZS5sZWZ0LnB4XT1cIm9yaWVudGF0aW9uPT09J2hvcml6b250YWwnID8gdHJhY2tEYXRhLnBvc2l0aW9uIDogdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICBbc3R5bGUuYm90dG9tLnB4XT1cIm9yaWVudGF0aW9uPT09J3ZlcnRpY2FsJyA/IHRyYWNrRGF0YS5wb3NpdGlvbiA6IHVuZGVmaW5lZFwiPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9uYS1zbGlkZXItdGljay1saXN0XCIgI3RpY2tMaXN0RWxlbWVudD5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgdGljayBvZiB0aWNrczsgbGV0IHR4ID0gaW5kZXg7XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vbmEtc2xpZGVyLXRpY2tcIiBbbmdDbGFzc109XCJ7J21vbmEtc2xpZGVyLXRpY2stdmlzaWJsZSc6IHNob3dUaWNrc31cIiAjdGlja1NwYW5FbGVtZW50XG4gICAgICAgICAgICAgICAgICAqbmdJZj1cInR4ICE9PSAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gW25nQ2xhc3NdPVwieydtb25hLWRyYWdnaW5nJzogZHJhZ2dpbmd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25UaWNrQ2xpY2soJGV2ZW50LCB0aWNrU3BhbkVsZW1lbnQpXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtb25hLXNsaWRlci10aWNrXCIgW25nQ2xhc3NdPVwieydtb25hLXNsaWRlci10aWNrLXZpc2libGUnOiBzaG93VGlja3N9XCIgI3RpY2tTcGFuRWxlbWVudFxuICAgICAgICAgICAgICAgICAgKm5nSWY9XCJ0eCAhPT0gdGlja3MubGVuZ3RoIC0gMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cInsnbW9uYS1kcmFnZ2luZyc6IGRyYWdnaW5nfVwiXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uVGlja0NsaWNrKCRldmVudCwgdGlja1NwYW5FbGVtZW50KVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtc2xpZGVyLXRpY2stbGFiZWwtbGlzdFwiIFtuZ0NsYXNzXT1cInsnbW9uYS1wb3NpdGlvbi1iZWZvcmUnOiBsYWJlbFBvc2l0aW9uPT09J2JlZm9yZScsICdtb25hLXBvc2l0aW9uLWFmdGVyJzogbGFiZWxQb3NpdGlvbj09PSdhZnRlcid9XCI+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IHRpY2sgb2YgdGlja3M7IGxldCB0eCA9IGluZGV4O1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtb25hLXNsaWRlci10aWNrLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhdGlja1ZhbHVlVGVtcGxhdGUgJiYgdHggJSBsYWJlbFN0ZXAgPT09IDBcIj57e3RpY2sudmFsdWV9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInRpY2tWYWx1ZVRlbXBsYXRlICYmIHR4ICUgbGFiZWxTdGVwID09PSAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwidGlja1ZhbHVlVGVtcGxhdGU7IGNvbnRleHQ6IHskaW1wbGljaXQ6IHRpY2sudmFsdWV9XCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXNsaWRlci1oYW5kbGVyIG1vbmEtc2xpZGVyLWhhbmRsZXItZmlyc3RcIlxuICAgICAgICAgW25nQ2xhc3NdPVwieydtb25hLWRyYWdnaW5nJzogZHJhZ2dpbmd9XCJcbiAgICAgICAgIFtzdHlsZS5sZWZ0LiVdPVwib3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJyA/IGhhbmRsZXJPbmVQb3NpdGlvbiA6IHVuZGVmaW5lZFwiXG4gICAgICAgICBbc3R5bGUuYm90dG9tLiVdPVwib3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyBoYW5kbGVyT25lUG9zaXRpb24gOiB1bmRlZmluZWRcIlxuICAgICAgICAgW3N0eWxlLnBvaW50ZXItZXZlbnRzXT1cImRyYWdnaW5nICYmIGFjdGl2ZUhhbmRsZXJUeXBlPT09J3NlY29uZGFyeScgPyAnbm9uZScgOiB1bmRlZmluZWRcIlxuICAgICAgICAgW2F0dHIudGFiaW5kZXhdPVwiMFwiXG4gICAgICAgICAoa2V5ZG93bik9XCJvbkhhbmRsZXJLZXlEb3duKCRldmVudCwgJ3ByaW1hcnknKVwiXG4gICAgICAgICAobW91c2Vkb3duKT1cIm9uSGFuZGxlck1vdXNlRG93bigncHJpbWFyeScpXCIgI3NsaWRlclByaW1hcnlIYW5kbGVyRWxlbWVudD48L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXNsaWRlci1oYW5kbGVyIG1vbmEtc2xpZGVyLWhhbmRsZXItc2Vjb25kXCJcbiAgICAgICAgIFtuZ0NsYXNzXT1cInsnbW9uYS1kcmFnZ2luZyc6IGRyYWdnaW5nfVwiXG4gICAgICAgICBbc3R5bGUubGVmdC4lXT1cIm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgPyBoYW5kbGVyVHdvUG9zaXRpb24gOiB1bmRlZmluZWRcIlxuICAgICAgICAgW3N0eWxlLmJvdHRvbS4lXT1cIm9yaWVudGF0aW9uID09PSAndmVydGljYWwnID8gaGFuZGxlclR3b1Bvc2l0aW9uIDogdW5kZWZpbmVkXCJcbiAgICAgICAgIFtzdHlsZS5wb2ludGVyLWV2ZW50c109XCJkcmFnZ2luZyAmJiBhY3RpdmVIYW5kbGVyVHlwZT09PSdwcmltYXJ5JyA/ICdub25lJyA6IHVuZGVmaW5lZFwiXG4gICAgICAgICBbYXR0ci50YWJpbmRleF09XCIwXCJcbiAgICAgICAgIChrZXlkb3duKT1cIm9uSGFuZGxlcktleURvd24oJGV2ZW50LCAnc2Vjb25kYXJ5JylcIlxuICAgICAgICAgKG1vdXNlZG93bik9XCJvbkhhbmRsZXJNb3VzZURvd24oJ3NlY29uZGFyeScpXCIgI3NsaWRlclNlY29uZGFyeUhhbmRsZXJFbGVtZW50ICpuZ0lmPVwicmFuZ2VkXCI+PC9kaXY+XG48L2Rpdj5cbiJdfQ==