import { Component, EventEmitter, Input, Output } from "@angular/core";
import { faCaretRight, faChevronDown, faChevronRight } from "@fortawesome/free-solid-svg-icons";
import { NodeClickEvent } from "../../data/NodeClickEvent";
import { of, Subject, switchMap, takeUntil } from "rxjs";
import * as i0 from "@angular/core";
import * as i1 from "../../services/tree-view.service";
import * as i2 from "@angular/common";
import * as i3 from "@fortawesome/angular-fontawesome";
import * as i4 from "../../../inputs/modules/check-box/directives/check-box.directive";
import * as i5 from "@angular/forms";
export class TreeViewNodeComponent {
    constructor(elementRef, treeViewService) {
        this.elementRef = elementRef;
        this.treeViewService = treeViewService;
        this.componentDestroy$ = new Subject();
        this.click$ = new Subject();
        this.collapseIcon = faChevronDown;
        this.dropMagnetIcon = faCaretRight;
        this.expandIcon = faChevronRight;
        this.dropMagnetVisible = false;
        this.dragging = false;
        this.dropPositionChange = new EventEmitter();
        this.nodeClick = new EventEmitter();
        this.nodeDoubleClick = new EventEmitter();
        this.nodeSelect = new EventEmitter();
        this.nodeTextTemplate = null;
    }
    ngOnDestroy() {
        this.componentDestroy$.next();
        this.componentDestroy$.complete();
    }
    ngOnInit() {
        this.setSubscriptions();
    }
    onCheckToggle(checked) {
        this.treeViewService.toggleNodeCheck(this.node, checked);
    }
    onExpandToggle(event) {
        this.treeViewService.toggleNodeExpand(this.node);
    }
    onMouseEnter(event) {
        if (!this.dragging) {
            return;
        }
        this.dropMagnetVisible = true;
    }
    onMouseLeave(event) {
        this.dropMagnetVisible = false;
        this.dropPosition = undefined;
        if (!this.dragging) {
            return;
        }
    }
    onMouseMove(event) {
        if (!this.dragging) {
            return;
        }
        const rect = this.elementRef.nativeElement.getBoundingClientRect();
        let node;
        if (event.clientY > rect.top && event.clientY - rect.top <= 5) {
            this.dropPosition = "before";
            node = this.node;
        }
        else if (event.clientY < rect.bottom && rect.bottom - event.clientY <= 5) {
            this.dropPosition = "after";
            node = this.node;
        }
        else if (event.clientY <= rect.top || event.clientY >= rect.bottom) {
            this.dropPosition = undefined;
            node = undefined;
        }
        else {
            this.dropPosition = "inside";
            node = this.node;
        }
        if (this.dropPosition) {
            this.dropPositionChange.emit({
                position: this.dropPosition,
                node
            });
        }
    }
    onNodeDoubleClick(event) {
        if (this.node.disabled) {
            return;
        }
        const clickEvent = new NodeClickEvent(this.node.getLookupItem(), event, "dblclick");
        this.nodeDoubleClick.emit(clickEvent);
    }
    onNodeClick(event, type) {
        if (this.node.disabled) {
            return;
        }
        const clickEvent = new NodeClickEvent(this.node.getLookupItem(), event, type);
        this.nodeClick.emit(clickEvent);
        if (clickEvent.isDefaultPrevented()) {
            return;
        }
        if (event.type === "click") {
            this.treeViewService.toggleNodeSelection(this.node);
            this.nodeSelect.emit(this.node);
        }
    }
    setActiveStyles() {
        this.node.focused = true;
    }
    setInactiveStyles() {
        this.node.focused = false;
    }
    setSubscriptions() {
        this.click$
            .pipe(takeUntil(this.componentDestroy$), 
        // debounceTime(350),
        switchMap(event => of({ event, type: event.type })))
            .subscribe(result => {
            if (result.type === "dblclick") {
                this.onNodeDoubleClick(result.event);
            }
            else {
                this.onNodeClick(result.event, "click");
            }
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: TreeViewNodeComponent, deps: [{ token: i0.ElementRef }, { token: i1.TreeViewService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.0", type: TreeViewNodeComponent, selector: "mona-tree-view-node", inputs: { dragging: "dragging", node: "node", nodeTextTemplate: "nodeTextTemplate" }, outputs: { dropPositionChange: "dropPositionChange", nodeClick: "nodeClick", nodeDoubleClick: "nodeDoubleClick", nodeSelect: "nodeSelect" }, ngImport: i0, template: "<div class=\"mona-tree-view-node\"\n     (mouseenter)=\"onMouseEnter($event)\" (mouseleave)=\"onMouseLeave($event)\" (mousemove)=\"onMouseMove($event)\">\n    <div class=\"mona-tree-view-drop-magnet\" *ngIf=\"dragging && dropMagnetVisible && dropPosition==='before'\" [attr.data-nid]=\"node.uid\" [attr.data-pos]=\"'before'\">\n        <fa-icon [icon]=\"dropMagnetIcon\"></fa-icon>\n        <div></div>\n    </div>\n    <div class=\"mona-tree-node-expander\" (click)=\"onExpandToggle($event)\" [ngClass]=\"{'mona-interactive': node.nodes.length !== 0, 'mona-disabled': node.disabled}\">\n        <fa-icon [icon]=\"expandIcon\" *ngIf=\"node.nodes.length !== 0 && !node.expanded\"></fa-icon>\n        <fa-icon [icon]=\"collapseIcon\" *ngIf=\"node.nodes.length !== 0 && node.expanded\"></fa-icon>\n    </div>\n    <div class=\"mona-tree-node-content\"  [ngClass]=\"{'mona-disabled': node.disabled}\">\n        <input type=\"checkbox\" id=\"mona-tree-node-checkbox-{{node.uid}}\" [indeterminate]=\"node.indeterminate\" [disabled]=\"node.disabled\"\n               [ngModel]=\"node.checked\" (ngModelChange)=\"onCheckToggle($event)\" monaCheckBox *ngIf=\"treeViewService.checkableOptions.enabled\">\n        <label for=\"mona-tree-node-checkbox-{{node.uid}}\"></label>\n        <div class=\"mona-tree-view-node-text\" [ngClass]=\"{'mona-tree-view-node-selected': node.selected, 'mona-tree-view-node-dropping': dragging && dropPosition==='inside', 'mona-tree-view-node-focused': node.focused}\"\n             (click)=\"click$.next($event)\"\n             (dblclick)=\"click$.next($event)\"\n             (contextmenu)=\"onNodeClick($event, 'contextmenu')\">\n            <ng-container *ngIf=\"!nodeTextTemplate\">{{node.text}}</ng-container>\n            <ng-container [ngTemplateOutlet]=\"nodeTextTemplate\" [ngTemplateOutletContext]=\"{$implicit: node.data, node: node}\" *ngIf=\"!!nodeTextTemplate\"></ng-container>\n        </div>\n    </div>\n    <div class=\"mona-tree-view-drop-magnet\" *ngIf=\"dragging && dropMagnetVisible && dropPosition==='after'\" [attr.data-nid]=\"node.uid\"[attr.data-pos]=\"'after'\">\n        <fa-icon [icon]=\"dropMagnetIcon\"></fa-icon>\n        <div></div>\n    </div>\n</div>\n", styles: [":host{position:relative}.mona-tree-view-node{display:flex;height:var(--mona-input-height);position:relative}div.mona-tree-node-expander{height:100%;width:16px;display:flex;align-items:center;justify-content:flex-start;color:var(--mona-text);-webkit-user-select:none;user-select:none;cursor:default;pointer-events:none}div.mona-tree-node-expander.mona-interactive{cursor:pointer;pointer-events:auto}div.mona-tree-node-content{flex:1;display:flex;align-items:center;justify-content:flex-start;min-width:0;-webkit-user-select:none;user-select:none}div.mona-tree-view-node-text{color:var(--mona-text);padding:5px;min-width:0;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.mona-tree-view-drop-magnet{position:absolute;width:100%;height:4px;display:flex;align-items:center;justify-content:flex-start}div.mona-tree-view-drop-magnet>fa-icon{color:var(--mona-primary)}div.mona-tree-view-drop-magnet>div{width:10%;height:2px;margin-left:5px;background-color:var(--mona-primary)}div.mona-tree-view-drop-magnet:first-child{top:2px}div.mona-tree-view-drop-magnet:last-child{bottom:2px}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: i3.FaIconComponent, selector: "fa-icon", inputs: ["icon", "title", "spin", "pulse", "mask", "styles", "flip", "size", "pull", "border", "inverse", "symbol", "rotate", "fixedWidth", "classes", "transform", "a11yRole"] }, { kind: "directive", type: i4.CheckBoxDirective, selector: "input[type='checkbox'][monaCheckBox]" }, { kind: "directive", type: i5.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { kind: "directive", type: i5.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i5.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.0", ngImport: i0, type: TreeViewNodeComponent, decorators: [{
            type: Component,
            args: [{ selector: "mona-tree-view-node", template: "<div class=\"mona-tree-view-node\"\n     (mouseenter)=\"onMouseEnter($event)\" (mouseleave)=\"onMouseLeave($event)\" (mousemove)=\"onMouseMove($event)\">\n    <div class=\"mona-tree-view-drop-magnet\" *ngIf=\"dragging && dropMagnetVisible && dropPosition==='before'\" [attr.data-nid]=\"node.uid\" [attr.data-pos]=\"'before'\">\n        <fa-icon [icon]=\"dropMagnetIcon\"></fa-icon>\n        <div></div>\n    </div>\n    <div class=\"mona-tree-node-expander\" (click)=\"onExpandToggle($event)\" [ngClass]=\"{'mona-interactive': node.nodes.length !== 0, 'mona-disabled': node.disabled}\">\n        <fa-icon [icon]=\"expandIcon\" *ngIf=\"node.nodes.length !== 0 && !node.expanded\"></fa-icon>\n        <fa-icon [icon]=\"collapseIcon\" *ngIf=\"node.nodes.length !== 0 && node.expanded\"></fa-icon>\n    </div>\n    <div class=\"mona-tree-node-content\"  [ngClass]=\"{'mona-disabled': node.disabled}\">\n        <input type=\"checkbox\" id=\"mona-tree-node-checkbox-{{node.uid}}\" [indeterminate]=\"node.indeterminate\" [disabled]=\"node.disabled\"\n               [ngModel]=\"node.checked\" (ngModelChange)=\"onCheckToggle($event)\" monaCheckBox *ngIf=\"treeViewService.checkableOptions.enabled\">\n        <label for=\"mona-tree-node-checkbox-{{node.uid}}\"></label>\n        <div class=\"mona-tree-view-node-text\" [ngClass]=\"{'mona-tree-view-node-selected': node.selected, 'mona-tree-view-node-dropping': dragging && dropPosition==='inside', 'mona-tree-view-node-focused': node.focused}\"\n             (click)=\"click$.next($event)\"\n             (dblclick)=\"click$.next($event)\"\n             (contextmenu)=\"onNodeClick($event, 'contextmenu')\">\n            <ng-container *ngIf=\"!nodeTextTemplate\">{{node.text}}</ng-container>\n            <ng-container [ngTemplateOutlet]=\"nodeTextTemplate\" [ngTemplateOutletContext]=\"{$implicit: node.data, node: node}\" *ngIf=\"!!nodeTextTemplate\"></ng-container>\n        </div>\n    </div>\n    <div class=\"mona-tree-view-drop-magnet\" *ngIf=\"dragging && dropMagnetVisible && dropPosition==='after'\" [attr.data-nid]=\"node.uid\"[attr.data-pos]=\"'after'\">\n        <fa-icon [icon]=\"dropMagnetIcon\"></fa-icon>\n        <div></div>\n    </div>\n</div>\n", styles: [":host{position:relative}.mona-tree-view-node{display:flex;height:var(--mona-input-height);position:relative}div.mona-tree-node-expander{height:100%;width:16px;display:flex;align-items:center;justify-content:flex-start;color:var(--mona-text);-webkit-user-select:none;user-select:none;cursor:default;pointer-events:none}div.mona-tree-node-expander.mona-interactive{cursor:pointer;pointer-events:auto}div.mona-tree-node-content{flex:1;display:flex;align-items:center;justify-content:flex-start;min-width:0;-webkit-user-select:none;user-select:none}div.mona-tree-view-node-text{color:var(--mona-text);padding:5px;min-width:0;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.mona-tree-view-drop-magnet{position:absolute;width:100%;height:4px;display:flex;align-items:center;justify-content:flex-start}div.mona-tree-view-drop-magnet>fa-icon{color:var(--mona-primary)}div.mona-tree-view-drop-magnet>div{width:10%;height:2px;margin-left:5px;background-color:var(--mona-primary)}div.mona-tree-view-drop-magnet:first-child{top:2px}div.mona-tree-view-drop-magnet:last-child{bottom:2px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.TreeViewService }]; }, propDecorators: { dragging: [{
                type: Input
            }], dropPositionChange: [{
                type: Output
            }], node: [{
                type: Input
            }], nodeClick: [{
                type: Output
            }], nodeDoubleClick: [{
                type: Output
            }], nodeSelect: [{
                type: Output
            }], nodeTextTemplate: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS12aWV3LW5vZGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbW9uYS11aS9zcmMvbGliL3RyZWUtdmlldy9jb21wb25lbnRzL3RyZWUtdmlldy1ub2RlL3RyZWUtdmlldy1ub2RlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21vbmEtdWkvc3JjL2xpYi90cmVlLXZpZXcvY29tcG9uZW50cy90cmVlLXZpZXctbm9kZS90cmVlLXZpZXctbm9kZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFjLFlBQVksRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBZSxNQUFNLGVBQWUsQ0FBQztBQUVuSCxPQUFPLEVBR0gsWUFBWSxFQUNaLGFBQWEsRUFDYixjQUFjLEVBR2pCLE1BQU0sbUNBQW1DLENBQUM7QUFJM0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBMkMsRUFBRSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDOzs7Ozs7O0FBUWxHLE1BQU0sT0FBTyxxQkFBcUI7SUE4QjlCLFlBQ3FCLFVBQW1DLEVBQ3BDLGVBQWdDO1FBRC9CLGVBQVUsR0FBVixVQUFVLENBQXlCO1FBQ3BDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtRQS9CbkMsc0JBQWlCLEdBQWtCLElBQUksT0FBTyxFQUFRLENBQUM7UUFDeEQsV0FBTSxHQUF3QixJQUFJLE9BQU8sRUFBYyxDQUFDO1FBQ3hELGlCQUFZLEdBQW1CLGFBQWEsQ0FBQztRQUM3QyxtQkFBYyxHQUFtQixZQUFZLENBQUM7UUFDOUMsZUFBVSxHQUFtQixjQUFjLENBQUM7UUFDckQsc0JBQWlCLEdBQVksS0FBSyxDQUFDO1FBSW5DLGFBQVEsR0FBWSxLQUFL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RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FDdEQ7YUFDQSxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDaEIsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFVBQVUsRUFBRTtnQkFDNUIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN4QztpQkFBTTtnQkFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDM0M7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7OEdBM0lRLHFCQUFxQjtrR0FBckIscUJBQXFCLDhSQ3ZCbEMsa3FFQTJCQTs7MkZESmEscUJBQXFCO2tCQUxqQyxTQUFTOytCQUNJLHFCQUFxQjsrSEFjeEIsUUFBUTtzQkFEZCxLQUFLO2dCQUlDLGtCQUFrQjtzQkFEeEIsTUFBTTtnQkFJQSxJQUFJO3NCQURWLEtBQUs7Z0JBSUMsU0FBUztzQkFEZixNQUFNO2dCQUlBLGVBQWU7c0JBRHJCLE1BQU07Z0JBSUEsVUFBVTtzQkFEaEIsTUFBTTtnQkFJQSxnQkFBZ0I7c0JBRHRCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIFRlbXBsYXRlUmVmIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vLi4vZGF0YS9Ob2RlXCI7XG5pbXBvcnQge1xuICAgIGZhQXJyb3dEb3duLFxuICAgIGZhQXJyb3dVcCxcbiAgICBmYUNhcmV0UmlnaHQsXG4gICAgZmFDaGV2cm9uRG93bixcbiAgICBmYUNoZXZyb25SaWdodCxcbiAgICBmYVBsdXMsXG4gICAgSWNvbkRlZmluaXRpb25cbn0gZnJvbSBcIkBmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29uc1wiO1xuaW1wb3J0IHsgVHJlZVZpZXdTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3NlcnZpY2VzL3RyZWUtdmlldy5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBEcm9wUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vZGF0YS9Ecm9wUG9zaXRpb25cIjtcbmltcG9ydCB7IERyb3BQb3NpdGlvbkNoYW5nZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2RhdGEvRHJvcFBvc2l0aW9uQ2hhbmdlRXZlbnRcIjtcbmltcG9ydCB7IE5vZGVDbGlja0V2ZW50IH0gZnJvbSBcIi4uLy4uL2RhdGEvTm9kZUNsaWNrRXZlbnRcIjtcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgb2YsIFN1YmplY3QsIHN3aXRjaE1hcCwgdGFrZVVudGlsIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IEZvY3VzYWJsZU9wdGlvbiwgRm9jdXNPcmlnaW4sIEhpZ2hsaWdodGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL2ExMXlcIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6IFwibW9uYS10cmVlLXZpZXctbm9kZVwiLFxuICAgIHRlbXBsYXRlVXJsOiBcIi4vdHJlZS12aWV3LW5vZGUuY29tcG9uZW50Lmh0bWxcIixcbiAgICBzdHlsZVVybHM6IFtcIi4vdHJlZS12aWV3LW5vZGUuY29tcG9uZW50LnNjc3NcIl1cbn0pXG5leHBvcnQgY2xhc3MgVHJlZVZpZXdOb2RlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIEhpZ2hsaWdodGFibGUge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY29tcG9uZW50RGVzdHJveSQ6IFN1YmplY3Q8dm9pZD4gPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuICAgIHB1YmxpYyByZWFkb25seSBjbGljayQ6IFN1YmplY3Q8TW91c2VFdmVudD4gPSBuZXcgU3ViamVjdDxNb3VzZUV2ZW50PigpO1xuICAgIHB1YmxpYyByZWFkb25seSBjb2xsYXBzZUljb246IEljb25EZWZpbml0aW9uID0gZmFDaGV2cm9uRG93bjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZHJvcE1hZ25ldEljb246IEljb25EZWZpbml0aW9uID0gZmFDYXJldFJpZ2h0O1xuICAgIHB1YmxpYyByZWFkb25seSBleHBhbmRJY29uOiBJY29uRGVmaW5pdGlvbiA9IGZhQ2hldnJvblJpZ2h0O1xuICAgIHB1YmxpYyBkcm9wTWFnbmV0VmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBkcm9wUG9zaXRpb24/OiBEcm9wUG9zaXRpb247XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBkcmFnZ2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIGRyb3BQb3NpdGlvbkNoYW5nZTogRXZlbnRFbWl0dGVyPERyb3BQb3NpdGlvbkNoYW5nZUV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8RHJvcFBvc2l0aW9uQ2hhbmdlRXZlbnQ+KCk7XG5cbiAgICBASW5wdXQoKVxuICAgIHB1YmxpYyBub2RlITogTm9kZTtcblxuICAgIEBPdXRwdXQoKVxuICAgIHB1YmxpYyBub2RlQ2xpY2s6IEV2ZW50RW1pdHRlcjxOb2RlQ2xpY2tFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPE5vZGVDbGlja0V2ZW50PigpO1xuXG4gICAgQE91dHB1dCgpXG4gICAgcHVibGljIG5vZGVEb3VibGVDbGljazogRXZlbnRFbWl0dGVyPE5vZGVDbGlja0V2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8Tm9kZUNsaWNrRXZlbnQ+KCk7XG5cbiAgICBAT3V0cHV0KClcbiAgICBwdWJsaWMgbm9kZVNlbGVjdDogRXZlbnRFbWl0dGVyPE5vZGU+ID0gbmV3IEV2ZW50RW1pdHRlcjxOb2RlPigpO1xuXG4gICAgQElucHV0KClcbiAgICBwdWJsaWMgbm9kZVRleHRUZW1wbGF0ZT86IFRlbXBsYXRlUmVmPG5ldmVyPiB8IG51bGwgPSBudWxsO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGVsZW1lbnRSZWY6IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgdHJlZVZpZXdTZXJ2aWNlOiBUcmVlVmlld1NlcnZpY2VcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RGVzdHJveSQubmV4dCgpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudERlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DaGVja1RvZ2dsZShjaGVja2VkOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMudHJlZVZpZXdTZXJ2aWNlLnRvZ2dsZU5vZGVDaGVjayh0aGlzLm5vZGUsIGNoZWNrZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkV4cGFuZFRvZ2dsZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRyZWVWaWV3U2VydmljZS50b2dnbGVOb2RlRXhwYW5kKHRoaXMubm9kZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VFbnRlcihldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyb3BNYWduZXRWaXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25Nb3VzZUxlYXZlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZHJvcE1hZ25ldFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kcm9wUG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IG5vZGU6IE5vZGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChldmVudC5jbGllbnRZID4gcmVjdC50b3AgJiYgZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wIDw9IDUpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcFBvc2l0aW9uID0gXCJiZWZvcmVcIjtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY2xpZW50WSA8IHJlY3QuYm90dG9tICYmIHJlY3QuYm90dG9tIC0gZXZlbnQuY2xpZW50WSA8PSA1KSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BQb3NpdGlvbiA9IFwiYWZ0ZXJcIjtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY2xpZW50WSA8PSByZWN0LnRvcCB8fCBldmVudC5jbGllbnRZID49IHJlY3QuYm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BQb3NpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BQb3NpdGlvbiA9IFwiaW5zaWRlXCI7XG4gICAgICAgICAgICBub2RlID0gdGhpcy5ub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRyb3BQb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kcm9wUG9zaXRpb25DaGFuZ2UuZW1pdCh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuZHJvcFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uTm9kZURvdWJsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm5vZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGlja0V2ZW50ID0gbmV3IE5vZGVDbGlja0V2ZW50KHRoaXMubm9kZS5nZXRMb29rdXBJdGVtKCksIGV2ZW50LCBcImRibGNsaWNrXCIpO1xuICAgICAgICB0aGlzLm5vZGVEb3VibGVDbGljay5lbWl0KGNsaWNrRXZlbnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbk5vZGVDbGljayhldmVudDogTW91c2VFdmVudCwgdHlwZTogXCJjbGlja1wiIHwgXCJjb250ZXh0bWVudVwiKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm5vZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbGlja0V2ZW50ID0gbmV3IE5vZGVDbGlja0V2ZW50KHRoaXMubm9kZS5nZXRMb29rdXBJdGVtKCksIGV2ZW50LCB0eXBlKTtcbiAgICAgICAgdGhpcy5ub2RlQ2xpY2suZW1pdChjbGlja0V2ZW50KTtcbiAgICAgICAgaWYgKGNsaWNrRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVWaWV3U2VydmljZS50b2dnbGVOb2RlU2VsZWN0aW9uKHRoaXMubm9kZSk7XG4gICAgICAgICAgICB0aGlzLm5vZGVTZWxlY3QuZW1pdCh0aGlzLm5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldEFjdGl2ZVN0eWxlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2RlLmZvY3VzZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRJbmFjdGl2ZVN0eWxlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2RlLmZvY3VzZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFN1YnNjcmlwdGlvbnMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xpY2skXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICB0YWtlVW50aWwodGhpcy5jb21wb25lbnREZXN0cm95JCksXG4gICAgICAgICAgICAgICAgLy8gZGVib3VuY2VUaW1lKDM1MCksXG4gICAgICAgICAgICAgICAgc3dpdGNoTWFwKGV2ZW50ID0+IG9mKHsgZXZlbnQsIHR5cGU6IGV2ZW50LnR5cGUgfSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC50eXBlID09PSBcImRibGNsaWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk5vZGVEb3VibGVDbGljayhyZXN1bHQuZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Ob2RlQ2xpY2socmVzdWx0LmV2ZW50LCBcImNsaWNrXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJtb25hLXRyZWUtdmlldy1ub2RlXCJcbiAgICAgKG1vdXNlZW50ZXIpPVwib25Nb3VzZUVudGVyKCRldmVudClcIiAobW91c2VsZWF2ZSk9XCJvbk1vdXNlTGVhdmUoJGV2ZW50KVwiIChtb3VzZW1vdmUpPVwib25Nb3VzZU1vdmUoJGV2ZW50KVwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXRyZWUtdmlldy1kcm9wLW1hZ25ldFwiICpuZ0lmPVwiZHJhZ2dpbmcgJiYgZHJvcE1hZ25ldFZpc2libGUgJiYgZHJvcFBvc2l0aW9uPT09J2JlZm9yZSdcIiBbYXR0ci5kYXRhLW5pZF09XCJub2RlLnVpZFwiIFthdHRyLmRhdGEtcG9zXT1cIidiZWZvcmUnXCI+XG4gICAgICAgIDxmYS1pY29uIFtpY29uXT1cImRyb3BNYWduZXRJY29uXCI+PC9mYS1pY29uPlxuICAgICAgICA8ZGl2PjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJtb25hLXRyZWUtbm9kZS1leHBhbmRlclwiIChjbGljayk9XCJvbkV4cGFuZFRvZ2dsZSgkZXZlbnQpXCIgW25nQ2xhc3NdPVwieydtb25hLWludGVyYWN0aXZlJzogbm9kZS5ub2Rlcy5sZW5ndGggIT09IDAsICdtb25hLWRpc2FibGVkJzogbm9kZS5kaXNhYmxlZH1cIj5cbiAgICAgICAgPGZhLWljb24gW2ljb25dPVwiZXhwYW5kSWNvblwiICpuZ0lmPVwibm9kZS5ub2Rlcy5sZW5ndGggIT09IDAgJiYgIW5vZGUuZXhwYW5kZWRcIj48L2ZhLWljb24+XG4gICAgICAgIDxmYS1pY29uIFtpY29uXT1cImNvbGxhcHNlSWNvblwiICpuZ0lmPVwibm9kZS5ub2Rlcy5sZW5ndGggIT09IDAgJiYgbm9kZS5leHBhbmRlZFwiPjwvZmEtaWNvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibW9uYS10cmVlLW5vZGUtY29udGVudFwiICBbbmdDbGFzc109XCJ7J21vbmEtZGlzYWJsZWQnOiBub2RlLmRpc2FibGVkfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJtb25hLXRyZWUtbm9kZS1jaGVja2JveC17e25vZGUudWlkfX1cIiBbaW5kZXRlcm1pbmF0ZV09XCJub2RlLmluZGV0ZXJtaW5hdGVcIiBbZGlzYWJsZWRdPVwibm9kZS5kaXNhYmxlZFwiXG4gICAgICAgICAgICAgICBbbmdNb2RlbF09XCJub2RlLmNoZWNrZWRcIiAobmdNb2RlbENoYW5nZSk9XCJvbkNoZWNrVG9nZ2xlKCRldmVudClcIiBtb25hQ2hlY2tCb3ggKm5nSWY9XCJ0cmVlVmlld1NlcnZpY2UuY2hlY2thYmxlT3B0aW9ucy5lbmFibGVkXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJtb25hLXRyZWUtbm9kZS1jaGVja2JveC17e25vZGUudWlkfX1cIj48L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9uYS10cmVlLXZpZXctbm9kZS10ZXh0XCIgW25nQ2xhc3NdPVwieydtb25hLXRyZWUtdmlldy1ub2RlLXNlbGVjdGVkJzogbm9kZS5zZWxlY3RlZCwgJ21vbmEtdHJlZS12aWV3LW5vZGUtZHJvcHBpbmcnOiBkcmFnZ2luZyAmJiBkcm9wUG9zaXRpb249PT0naW5zaWRlJywgJ21vbmEtdHJlZS12aWV3LW5vZGUtZm9jdXNlZCc6IG5vZGUuZm9jdXNlZH1cIlxuICAgICAgICAgICAgIChjbGljayk9XCJjbGljayQubmV4dCgkZXZlbnQpXCJcbiAgICAgICAgICAgICAoZGJsY2xpY2spPVwiY2xpY2skLm5leHQoJGV2ZW50KVwiXG4gICAgICAgICAgICAgKGNvbnRleHRtZW51KT1cIm9uTm9kZUNsaWNrKCRldmVudCwgJ2NvbnRleHRtZW51JylcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhbm9kZVRleHRUZW1wbGF0ZVwiPnt7bm9kZS50ZXh0fX08L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwibm9kZVRleHRUZW1wbGF0ZVwiIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7JGltcGxpY2l0OiBub2RlLmRhdGEsIG5vZGU6IG5vZGV9XCIgKm5nSWY9XCIhIW5vZGVUZXh0VGVtcGxhdGVcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1vbmEtdHJlZS12aWV3LWRyb3AtbWFnbmV0XCIgKm5nSWY9XCJkcmFnZ2luZyAmJiBkcm9wTWFnbmV0VmlzaWJsZSAmJiBkcm9wUG9zaXRpb249PT0nYWZ0ZXInXCIgW2F0dHIuZGF0YS1uaWRdPVwibm9kZS51aWRcIlthdHRyLmRhdGEtcG9zXT1cIidhZnRlcidcIj5cbiAgICAgICAgPGZhLWljb24gW2ljb25dPVwiZHJvcE1hZ25ldEljb25cIj48L2ZhLWljb24+XG4gICAgICAgIDxkaXY+PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==