<div class="mona-date-time-picker">
    <mona-text-box [ngModel]="currentDateString">
        <ng-template monaTextBoxSuffixTemplate>
            <button monaButton [flat]="true" #dateMenuButton (click)="onDateInputButtonClick($event)">
                <fa-icon [icon]="dateIcon"></fa-icon>
            </button>
        </ng-template>
    </mona-text-box>
</div>

<ng-template #datePopupTemplate>
    <div *ngIf="calendarView==='month'" style="width: 100%;">
        <div class="mona-calendar-month-view-header">
            <div>
                <button monaButton (click)="onMonthNavigationClick('prev')">
                    <fa-icon [icon]="prevMonthIcon"></fa-icon>
                </button>
            </div>
            <div>
                <button monaButton>{{navigatedDate|date:'MMMM YYYY'}}</button>
            </div>
            <div>
                <button monaButton (click)="onMonthNavigationClick('next')">
                    <fa-icon [icon]="nextMonthIcon"></fa-icon>
                </button>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                    <th>Sun</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:0:7" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:7:14" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:14:21" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:21:28" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:28:35" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
                <tr>
                    <td *ngFor="let entry of monthlyViewDict | monaSlice:35:monthlyViewDict.length" (click)="onDayClick(entry.key)">
                        <span>{{entry.value}}</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div *ngIf="calendarView==='year'">
        YEAR VIEW
    </div>
    <div *ngIf="calendarView==='decade'">
        DECADE VIEW
    </div>
</ng-template>
