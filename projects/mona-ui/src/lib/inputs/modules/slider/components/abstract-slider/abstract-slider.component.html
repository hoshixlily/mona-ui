<div class="mona-slider" [ngClass]="{'mona-no-animation': !initialized, 'mona-slider-ranged': ranged,
                                    'mona-slider-horizontal': orientation==='horizontal',
                                    'mona-slider-vertical': orientation==='vertical'}"
     (focus)="sliderPrimaryHandlerElement.focus()">
    <div class="mona-slider-track" #sliderTrackElement>
        <div class="mona-slider-highlight" [ngClass]="{'mona-dragging': dragging()}"
             [style.width.%]="orientation==='horizontal' ? trackData().size : undefined"
             [style.height.%]="orientation==='vertical' ? trackData().size : undefined"
             [style.left.px]="orientation==='horizontal' ? trackData().position : undefined"
             [style.bottom.px]="orientation==='vertical' ? trackData().position : undefined">
        </div>
    </div>
    <div class="mona-slider-tick-list" #tickListElement>
        <ng-container *ngFor="let tick of ticks; let tx = index;">
            <span class="mona-slider-tick" [ngClass]="{'mona-slider-tick-visible': showTicks}" #tickSpanElement
                  *ngIf="tx !== 0">
                <span [ngClass]="{'mona-dragging': dragging()}"
                      (click)="onTickClick($event, tickSpanElement)"></span>
            </span>
            <span class="mona-slider-tick" [ngClass]="{'mona-slider-tick-visible': showTicks}" #tickSpanElement
                  *ngIf="tx !== ticks.length - 1">
                <span [ngClass]="{'mona-dragging': dragging()}"
                      (click)="onTickClick($event, tickSpanElement)"></span>
            </span>
        </ng-container>
    </div>
    <div class="mona-slider-tick-label-list" [ngClass]="{'mona-position-before': labelPosition==='before', 'mona-position-after': labelPosition==='after'}">
        <ng-container *ngFor="let tick of ticks; let tx = index;">
            <span class="mona-slider-tick-label">
                <span *ngIf="!tickValueTemplate && tx % labelStep === 0">{{tick.value}}</span>
                <span *ngIf="tickValueTemplate && tx % labelStep === 0">
                    <ng-container
                        *ngTemplateOutlet="tickValueTemplate; context: {$implicit: tick.value}"></ng-container>
                </span>
            </span>
        </ng-container>
    </div>

    <div class="mona-slider-handler mona-slider-handler-first"
         [ngClass]="{'mona-dragging': dragging()}"
         [style.left.%]="orientation === 'horizontal' ? handlerOnePosition() : undefined"
         [style.bottom.%]="orientation === 'vertical' ? handlerOnePosition() : undefined"
         [style.pointer-events]="dragging() && activeHandlerType==='secondary' ? 'none' : undefined"
         [attr.tabindex]="0"
         (keydown)="onHandlerKeyDown($event, 'primary')"
         (mousedown)="onHandlerMouseDown($event, 'primary')" #sliderPrimaryHandlerElement></div>

    <div class="mona-slider-handler mona-slider-handler-second"
         [ngClass]="{'mona-dragging': dragging()}"
         [style.left.%]="orientation === 'horizontal' ? handlerTwoPosition() : undefined"
         [style.bottom.%]="orientation === 'vertical' ? handlerTwoPosition() : undefined"
         [style.pointer-events]="dragging() && activeHandlerType==='primary' ? 'none' : undefined"
         [attr.tabindex]="0"
         (keydown)="onHandlerKeyDown($event, 'secondary')"
         (mousedown)="onHandlerMouseDown($event, 'secondary')" #sliderSecondaryHandlerElement *ngIf="ranged"></div>
</div>
