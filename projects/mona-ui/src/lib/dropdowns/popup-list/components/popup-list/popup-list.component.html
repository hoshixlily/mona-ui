@if (filterable) {
    <mona-filter-input [filter]="filterText()"
                       (filterChange)="filter$.next($event.filter)"
                       class="mona-popup-filter-input"></mona-filter-input>
}
<ul class="mona-list" [attr.tabindex]="-1">
    @if (popupListService.viewListData.length !== 0) {
        @for (group of popupListService.viewListData; track group.key) {
            @if (group.source.any()) {
                @if (!groupTemplate && group.key) {
                    <li class="mona-list-group-header">{{group.key}}</li>
                } @else if (groupTemplate && group.key) {
                    <li class="mona-list-group-header">
                        <ng-container [ngTemplateOutlet]="groupTemplate"
                                      [ngTemplateOutletContext]="{$implicit: group.key}"></ng-container>
                    </li>
                }
            }
            @for (item of group.source; track item) {
                <li class="mona-list-item" (click)="onListItemClick(item, $event)"
                    [ngClass]="{'mona-selected': item.selected(), 'mona-highlighted': item.highlighted(), 'mona-disabled': item.disabled}">
                    <mona-popup-list-item [item]="item" [itemTemplate]="itemTemplate"></mona-popup-list-item>
                </li>
            }
        }
    } @else {
        <div class="mona-list-no-data">No data.</div>
    }
</ul>
