<div class="mona-dropdown-tree" [ngClass]="{'mona-disabled': disabled}"
     [attr.tabindex]="disabled ? -1 : 0" (click)="open()" #dropdownWrapper>
    <div class="mona-dropdown-value">
        <span>{{text()}}</span>
    </div>
    <button monaButton class="mona-input-button">
        <fa-icon [icon]="dropdownIcon"></fa-icon>
    </button>
</div>

<ng-template #popupTemplate>
    <div class="mona-dropdown-tree-popup-wrapper">
        <mona-tree-view [data]="data"
                        [keyField]="keyField"
                        [childrenField]="childrenField"
                        [textField]="textField"
                        [monaTreeViewSelectable]="selectableOptions"
                        [selectedKeys]="selectedTreeKeys()"
                        [monaTreeViewExpandable]="{enabled: dropdownTreeService.expandableOptions.enabled}"
                        [expandedKeys]="dropdownTreeService.expandedKeys()"
                        (expandedKeysChange)="onExpandedKeysChange($event)"
                        (selectedKeysChange)="onSelectedKeysChange($event)"
                        (selectionChange)="onSelectionChange($event)"></mona-tree-view>
    </div>
</ng-template>